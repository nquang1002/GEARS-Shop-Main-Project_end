<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>GEARS Shop - Admin Dashboard</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../css/Base.css">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #f0fdfa 0%, #e0f2fe 50%, #f0f9ff 100%);
      color: #344767;
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(20, 184, 166, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(6, 182, 212, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideIn {
      from { transform: translateX(-100%); }
      to { transform: translateX(0); }
    }

    @keyframes scaleIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(20, 184, 166, 0.5); }
      50% { box-shadow: 0 0 40px rgba(20, 184, 166, 0.8); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }

    /* Top Navigation Bar */
    .top-navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: linear-gradient(135deg, #006d77 0%, #014f59 100%);
      box-shadow: 0 4px 20px rgba(0, 109, 119, 0.3);
      animation: slideDown 0.4s ease-out;
    }

    @keyframes slideDown {
      from { transform: translateY(-100%); }
      to { transform: translateY(0); }
    }

    .navbar-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 2rem;
      max-width: 1800px;
      margin: 0 auto;
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 1.2rem 0;
      color: white;
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 1px;
      text-decoration: none;
    }

    .navbar-brand i {
      font-size: 28px;
      color: #83f2e4;
    }

    .navbar-menu {
      display: flex;
      list-style: none;
      gap: 0.5rem;
      align-items: center;
      flex: 1;
      justify-content: center;
    }

    .navbar-menu a {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0.85rem 1.5rem;
      color: rgba(255, 255, 255, 0.85);
      text-decoration: none;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .navbar-menu a::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) scaleX(0);
      width: 80%;
      height: 3px;
      background: linear-gradient(90deg, #83f2e4, #14b8a6);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 3px 3px 0 0;
    }

    .navbar-menu a:hover {
      background: rgba(131, 242, 228, 0.15);
      color: #83f2e4;
      transform: translateY(-2px);
    }

    .navbar-menu a:hover::before {
      transform: translateX(-50%) scaleX(1);
    }

    .navbar-menu a.active {
      background: rgba(131, 242, 228, 0.2);
      color: #83f2e4;
      box-shadow: 0 4px 12px rgba(131, 242, 228, 0.3);
    }

    .navbar-menu a.active::before {
      transform: translateX(-50%) scaleX(1);
    }

    .navbar-menu i {
      font-size: 18px;
    }

    .navbar-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .btn-logout {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(239, 68, 68, 0.15);
      color: #fca5a5;
      padding: 0.75rem 1.5rem;
      font-size: 14px;
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      font-weight: 500;
    }

    .btn-logout:hover {
      background: rgba(239, 68, 68, 0.25);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
      color: #fee2e2;
    }

    .mobile-menu-toggle {
      display: none;
      background: rgba(131, 242, 228, 0.2);
      border: none;
      color: white;
      padding: 0.75rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .mobile-menu-toggle:hover {
      background: rgba(131, 242, 228, 0.3);
    }

    /* Main Content */
    .main-content {
      margin-top: 75px;
      min-height: calc(100vh - 75px);
      padding: 2rem;
      position: relative;
      z-index: 1;
    }

    .breadcrumb {
      margin-bottom: 1.8rem;
      padding: 1rem 1.8rem;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 109, 119, 0.1);
      background: linear-gradient(135deg, #ffffff, #f0fdfa);
      animation: fadeIn 0.4s ease-out;
      border: 1px solid rgba(20, 184, 166, 0.1);
    }

    .breadcrumb-title {
      color: #0d9488;
      font-weight: 700;
      margin: 0;
      font-size: 0.95rem;
      letter-spacing: 0.5px;
    }

    .page-title {
      text-align: center;
      margin-bottom: 2rem;
      font-weight: 800;
      background: linear-gradient(135deg, #006d77, #14b8a6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 2.5rem;
      animation: fadeIn 0.6s ease-out;
      letter-spacing: -1px;
    }

    /* Stats Cards */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.8rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      position: relative;
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 109, 119, 0.08);
      padding: 1.25rem;
      padding-top: 0.625rem;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: scaleIn 0.5s ease-out;
      border: 1px solid rgba(20, 184, 166, 0.1);
    }

    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 24px rgba(20, 184, 166, 0.2);
      border-color: rgba(20, 184, 166, 0.3);
    }

    .stat-icon {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: -1.75rem;
      color: white;
      font-size: 1.6rem;
      box-shadow: 0 6px 20px rgba(20, 184, 166, 0.3);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .stat-card:hover .stat-icon {
      transform: scale(1.15);
      box-shadow: 0 8px 28px rgba(20, 184, 166, 0.5);
    }

    .stat-icon.blue {
      background: linear-gradient(135deg, #14b8a6, #0d9488);
      box-shadow: 0 6px 20px rgba(20, 184, 166, 0.4);
    }

    .stat-icon.dark {
      background: linear-gradient(135deg, #006d77, #014f59);
      box-shadow: 0 6px 20px rgba(0, 109, 119, 0.4);
    }

    .stat-icon.green {
      background: linear-gradient(135deg, #10b981, #059669);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    }

    .stat-icon.cyan {
      background: linear-gradient(135deg, #06b6d4, #0891b2);
      box-shadow: 0 6px 20px rgba(6, 182, 212, 0.4);
    }

    .stat-content {
      text-align: right;
      padding-top: 0.625rem;
    }

    .stat-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      margin-bottom: 0.25rem;
      color: #64748b;
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    .stat-value {
      margin: 0;
      font-weight: 700;
      font-size: 1.6rem;
      color: #0f172a;
      transition: all 0.3s;
    }

    .stat-card:hover .stat-value {
      color: #0d9488;
      transform: scale(1.05);
    }

    .table-container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 109, 119, 0.08);
      padding: 1.8rem;
      margin-bottom: 2rem;
      animation: fadeIn 0.5s ease-out;
      border: 1px solid rgba(20, 184, 166, 0.08);
      position: relative;
      overflow: hidden;
    }

    .table-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, #14b8a6, #06b6d4, #14b8a6);
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    .table-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .table-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #344767;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .table-title i {
      color: #14b8a6;
    }

    /* Table */
    .table-wrapper {
      overflow-x: auto;
      border-radius: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      border-radius: 10px;
      overflow: hidden;
    }

    thead {
      background: linear-gradient(135deg, #006d77, #14b8a6);
      color: white;
    }

    th, td {
      padding: 14px 16px;
      font-size: 14px;
      border-bottom: 1px solid #e0e0e0;
      text-align: left;
    }

    th {
      text-transform: uppercase;
      font-size: 12px;
      letter-spacing: 0.5px;
      text-align: center;
      font-weight: 600;
    }

    tbody tr {
      transition: all 0.3s;
    }

    tbody tr:nth-child(even) {
      background-color: #fafafa;
    }

    tbody tr:hover {
      background-color: #f3f4f8;
      transform: scale(1.01);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    tbody tr:last-child td {
      border-bottom: none;
    }

    /* Image in table */
    .product-img {
      max-width: 60px;
      max-height: 60px;
      border-radius: 8px;
      transition: all 0.3s;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .product-img:hover {
      transform: scale(2.5);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 10;
      position: relative;
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 8px 16px;
      border-radius: 6px;
      border: none;
      color: white;
      font-size: 13px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s;
      font-weight: 500;
    }

    .btn i {
      font-size: 16px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #14b8a6, #0d9488);
      box-shadow: 0 2px 8px rgba(20, 184, 166, 0.3);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #0d9488, #0f766e);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(20, 184, 166, 0.5);
    }

    .btn-edit {
      background-color: #1976d2;
      box-shadow: 0 2px 8px rgba(25, 118, 210, 0.3);
    }

    .btn-edit:hover {
      background-color: #2196f3;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(25, 118, 210, 0.4);
    }

    .btn-delete {
      background-color: #e53935;
      box-shadow: 0 2px 8px rgba(229, 57, 53, 0.3);
    }

    .btn-delete:hover {
      background-color: #ef5350;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(229, 57, 53, 0.4);
    }

    .btn-success {
      background-color: #43A047;
      box-shadow: 0 2px 8px rgba(67, 160, 71, 0.3);
    }

    .btn-success:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(67, 160, 71, 0.4);
    }

    .actions {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .actions .btn {
      min-width: 36px;
      padding: 8px 12px;
    }

    /* Search Bar */
    .search-bar {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .search-input {
      flex: 1;
      min-width: 200px;
      padding: 10px 15px;
      border: 1px solid #d2d6da;
      border-radius: 6px;
      font-size: 14px;
      transition: all 0.3s;
    }

    .search-input:focus {
      outline: none;
      border-color: #14b8a6;
      box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.15);
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    .page-btn {
      padding: 8px 12px;
      border: 1px solid #d2d6da;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 500;
    }

    .page-btn:hover {
      background: #f3f4f8;
      transform: translateY(-2px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .page-btn.active {
      background: linear-gradient(135deg, #14b8a6, #0d9488);
      color: white;
      border-color: #0d9488;
    }

    /* Status Badge */
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 5px 12px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .badge i {
      font-size: 14px;
    }

    .badge-success {
      background-color: #e8f5e9;
      color: #43A047;
    }

    .badge-success:hover {
      background-color: #c8e6c9;
      transform: scale(1.05);
    }

    .badge-danger {
      background-color: #ffebee;
      color: #e53935;
    }

    .badge-danger:hover {
      background-color: #ffcdd2;
      transform: scale(1.05);
    }

    .badge-warning {
      background-color: #fff3e0;
      color: #fb8c00;
    }

    .badge-warning:hover {
      background-color: #ffe0b2;
      transform: scale(1.05);
    }

    .badge-info {
      background-color: #ccfbf1;
      color: #0d9488;
    }

    .badge-info:hover {
      background-color: #99f6e4;
      transform: scale(1.05);
    }

    /* Loading Spinner */
    .spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #14b8a6;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 3rem 1rem;
      color: #6c757d;
    }

    .empty-state i {
      font-size: 4rem;
      color: #d2d6da;
      margin-bottom: 1rem;
    }

    .empty-state h3 {
      margin-bottom: 0.5rem;
      color: #344767;
    }

    /* Loading overlay for refresh effect */
    .refresh-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      backdrop-filter: blur(5px);
    }

    .refresh-overlay.active {
      display: flex;
    }

    .refresh-spinner {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .refresh-spinner .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid #e0f2fe;
      border-top: 4px solid #14b8a6;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    .refresh-spinner p {
      color: #14b8a6;
      font-size: 16px;
      font-weight: 500;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .navbar-menu a span {
        display: none;
      }

      .navbar-menu {
        gap: 0.25rem;
      }

      .navbar-menu a {
        padding: 0.75rem 1rem;
      }
    }

    @media (max-width: 768px) {
      .navbar-container {
        padding: 0 1rem;
      }

      .navbar-menu {
        position: fixed;
        top: 75px;
        left: 0;
        right: 0;
        background: linear-gradient(135deg, #006d77 0%, #014f59 100%);
        flex-direction: column;
        padding: 1rem;
        gap: 0.5rem;
        transform: translateY(-100%);
        opacity: 0;
        transition: all 0.3s ease;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .navbar-menu.show {
        transform: translateY(0);
        opacity: 1;
      }

      .navbar-menu a {
        width: 100%;
        justify-content: flex-start;
      }

      .navbar-menu a span {
        display: inline;
      }

      .mobile-menu-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .navbar-right {
        gap: 0.5rem;
      }

      .btn-logout span {
        display: none;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .table-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    /* Page Info */
    .page-info {
      text-align: center;
      margin-top: 1rem;
      color: #6c757d;
      font-size: 14px;
      font-weight: 500;
    }

    /* Tooltip */
    .tooltip {
      position: relative;
      display: inline-block;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 120px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -60px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    /* Modal Styles */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-out;
    }

    .modal-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
    }

    .modal-content {
      position: relative;
      background: white;
      border-radius: 16px;
      width: 90%;
      max-width: 700px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: scaleIn 0.3s ease-out;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 28px 32px;
      border-bottom: 2px solid rgba(131, 242, 228, 0.3);
      background: linear-gradient(135deg, #006d77 0%, #14b8a6 100%);
      color: white;
      border-radius: 16px 16px 0 0;
      box-shadow: 0 4px 12px rgba(0, 109, 119, 0.3);
    }

    .modal-header h2 {
      margin: 0;
      font-size: 22px;
      font-weight: 600;
    }

    .modal-close {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: rotate(90deg);
    }

    .modal-content form {
      padding: 30px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #344767;
      font-size: 14px;
    }

    .form-group .required {
      color: #f5576c;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d2d6da;
      border-radius: 8px;
      font-size: 14px;
      font-family: 'Roboto', sans-serif;
      transition: all 0.3s ease;
      background: #f8f9fa;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #14b8a6;
      background: white;
      box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.15);
      transform: translateY(-1px);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-group small {
      display: block;
      margin-top: 6px;
      color: #6c757d;
      font-size: 12px;
    }

    .form-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #e9ecef;
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background: #5a6268;
      transform: translateY(-2px);
    }

    /* Import Item Styling */
    .import-item {
      background: white;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 12px;
      transition: all 0.3s ease;
    }

    .import-item:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }

    .import-item-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e9ecef;
    }

    .import-item-body {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 12px;
    }

    .import-item-remove {
      background: #dc3545;
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .import-item-remove:hover {
      background: #c82333;
      transform: scale(1.1);
    }

    @media (max-width: 768px) {
      .form-row {
        grid-template-columns: 1fr;
      }

      .modal-content {
        width: 95%;
        max-height: 95vh;
      }

      .import-item-body {
        grid-template-columns: 1fr;
      }

      .modal-content form {
        padding: 20px;
      }

      .form-actions {
        flex-direction: column;
      }

      .form-actions button {
        width: 100%;
      }
    }

    /* Mobile Menu Toggle */
    .menu-toggle {
      display: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1001;
      background: linear-gradient(135deg, #14b8a6, #0d9488);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 12px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
    }

    @media (max-width: 768px) {
      .menu-toggle {
        display: block;
      }
    }
  </style>
</head>

<body>
  <!-- Refresh Overlay -->
  <div id="refresh-overlay" class="refresh-overlay">
    <div class="refresh-spinner">
      <div class="spinner"></div>
    </div>
  </div>

  <!-- Top Navigation Bar -->
  <nav class="top-navbar">
    <div class="navbar-container">
      <a href="#" class="navbar-brand">
        <i class="material-icons">store</i>
        <span>GEARS SHOP ADMIN</span>
      </a>

      <ul class="navbar-menu" id="navbarMenu">
        <li><a href="#dashboard" class="active" onclick="showPage('dashboard')">
          <i class="material-icons">dashboard</i>
          <span>T·ªïng quan</span>
        </a></li>
        <li><a href="#customers" onclick="showPage('customers')">
          <i class="material-icons">people</i>
          <span>Kh√°ch h√†ng</span>
        </a></li>
        <li><a href="#products" onclick="showPage('products')">
          <i class="material-icons">inventory_2</i>
          <span>S·∫£n ph·∫©m</span>
        </a></li>
        <li><a href="#categories" onclick="showPage('categories')">
          <i class="material-icons">category</i>
          <span>Danh m·ª•c</span>
        </a></li>
        <li><a href="#imports" onclick="showPage('imports')">
          <i class="material-icons">add_shopping_cart</i>
          <span>Nh·∫≠p h√†ng</span>
        </a></li>
        <li><a href="#pricing" onclick="showPage('pricing')">
          <i class="material-icons">sell</i>
          <span>ƒê·ªãnh gi√°</span>
        </a></li>
        <li><a href="#orders" onclick="showPage('orders')">
          <i class="material-icons">receipt_long</i>
          <span>ƒê∆°n h√†ng</span>
        </a></li>
        <li><a href="#inventory" onclick="showPage('inventory')">
          <i class="material-icons">warehouse</i>
          <span>T·ªìn kho</span>
        </a></li>
      </ul>

      <div class="navbar-right">
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
          <i class="material-icons">menu</i>
        </button>
        <a href="../../index.html" class="btn-logout">
          <i class="material-icons">exit_to_app</i>
          <span>ƒêƒÉng xu·∫•t</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Dashboard Page -->
    <div id="page-dashboard" class="page-content">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">T·ªïng quan</p>
      </nav>

      <h1 class="page-title">Xin ch√†o, Admin</h1>

      <!-- Stats Cards -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon blue">
            <i class="material-icons">people</i>
          </div>
          <div class="stat-content">
            <p class="stat-label">Kh√°ch h√†ng</p>
            <h4 class="stat-value" id="total-customers">0</h4>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon dark">
            <i class="material-icons">inventory_2</i>
          </div>
          <div class="stat-content">
            <p class="stat-label">T·ªïng s·∫£n ph·∫©m</p>
            <h4 class="stat-value" id="total-products">0</h4>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon green">
            <i class="material-icons">receipt_long</i>
          </div>
          <div class="stat-content">
            <p class="stat-label">T·ªïng ƒë∆°n h√†ng</p>
            <h4 class="stat-value" id="total-orders">0</h4>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon cyan">
            <i class="material-icons">payments</i>
          </div>
          <div class="stat-content">
            <p class="stat-label">Doanh thu</p>
            <h4 class="stat-value" id="total-revenue">0 ƒë</h4>
          </div>
        </div>
      </div>
    </div>

    <!-- Customers Page -->
    <div id="page-customers" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω kh√°ch h√†ng</p>
      </nav>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">people</i>
            Danh s√°ch kh√°ch h√†ng
          </h2>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
          <input type="text" class="search-input" placeholder="üîç T√¨m ki·∫øm..." style="flex: 1;">
          <button class="btn btn-primary" onclick="showPage('customers')">
            <i class="material-icons">search</i> T√¨m ki·∫øm
          </button>
        </div>

        <div class="table-wrapper">
          <table id="customers-table">
            <thead>
              <tr>
                <th>STT</th>
                <th>T√™n ƒëƒÉng nh·∫≠p</th>
                <th>Email</th>
                <th>Ng√†y ƒëƒÉng k√Ω</th>
                <th>Lo·∫°i TK</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="customers-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="customers-pagination" class="pagination"></div>
      </div>
    </div>

    <!-- Products Page -->
    <div id="page-products" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω s·∫£n ph·∫©m</p>
      </nav>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">inventory_2</i>
            Danh s√°ch s·∫£n ph·∫©m
          </h2>
          <a href="#" class="btn btn-primary" onclick="showAddProductForm()">
            <i class="material-icons">add</i> Th√™m s·∫£n ph·∫©m
          </a>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
          <input type="text" class="search-input" placeholder="üîç T√¨m ki·∫øm..." style="flex: 1;">
          <button class="btn btn-primary" onclick="showPage('products')">
            <i class="material-icons">search</i> T√¨m ki·∫øm
          </button>
        </div>

        <div class="table-wrapper">
          <table id="products-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>T√™n s·∫£n ph·∫©m</th>
                <th>Danh m·ª•c</th>
                <th>Gi√°</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="products-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="products-pagination" class="pagination"></div>
      </div>
    </div>

    <!-- Orders Page -->
    <div id="page-orders" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω ƒë∆°n h√†ng</p>
      </nav>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">receipt_long</i>
            Danh s√°ch ƒë∆°n h√†ng
          </h2>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
          <input type="text" class="search-input" placeholder="üîç T√¨m ki·∫øm..." style="flex: 1;">
          <button class="btn btn-primary" onclick="showPage('orders')">
            <i class="material-icons">search</i> T√¨m ki·∫øm
          </button>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>M√£ ƒêH</th>
                <th>Kh√°ch h√†ng</th>
                <th>Ng√†y ƒë·∫∑t</th>
                <th>T·ªïng ti·ªÅn</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="orders-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="orders-pagination" class="pagination"></div>
      </div>
    </div>

    <!-- Categories Page -->
    <div id="page-categories" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω danh m·ª•c</p>
      </nav>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">category</i>
            Danh s√°ch danh m·ª•c
          </h2>
          <a href="#" class="btn btn-primary" onclick="showAddCategoryForm()">
            <i class="material-icons">add</i> Th√™m danh m·ª•c
          </a>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>T√™n danh m·ª•c</th>
                <th>S·ªë s·∫£n ph·∫©m</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="categories-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="categories-pagination" class="pagination"></div>
      </div>
    </div>

    <!-- Imports Page (Nh·∫≠p h√†ng) -->
    <div id="page-imports" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω nh·∫≠p h√†ng</p>
      </nav>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">add_shopping_cart</i>
            Danh s√°ch phi·∫øu nh·∫≠p
          </h2>
          <a href="#" class="btn btn-primary" onclick="showAddImportForm()">
            <i class="material-icons">add</i> T·∫°o phi·∫øu nh·∫≠p
          </a>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
          <input type="text" class="search-input" placeholder="üîç T√¨m ki·∫øm..." style="flex: 1;">
          <button class="btn btn-primary" onclick="showPage('imports')">
            <i class="material-icons">search</i> T√¨m ki·∫øm
          </button>
        </div>

        <div class="table-wrapper">
          <table id="imports-table">
            <thead>
              <tr>
                <th>M√£ phi·∫øu</th>
                <th>Ng√†y nh·∫≠p</th>
                <th>S·ªë l∆∞·ª£ng SP</th>
                <th>T·ªïng ti·ªÅn</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="imports-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="imports-pagination" class="pagination"></div>
      </div>
    </div>

    <!-- Pricing Page (Qu·∫£n l√Ω gi√° b√°n) -->
    <div id="page-pricing" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω gi√° b√°n & L·ª£i nhu·∫≠n</p>
      </nav>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">sell</i>
            C·∫•u h√¨nh t·ªâ l·ªá l·ª£i nhu·∫≠n
          </h2>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Danh m·ª•c</th>
                <th>% L·ª£i nhu·∫≠n m·∫∑c ƒë·ªãnh</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="pricing-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="table-container" style="margin-top: 2rem;">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">list_alt</i>
            Chi ti·∫øt gi√° b√°n s·∫£n ph·∫©m
          </h2>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
          <input type="text" class="search-input" placeholder="üîç T√¨m ki·∫øm..." style="flex: 1;">
          <button class="btn btn-primary" onclick="showPage('pricing')">
            <i class="material-icons">search</i> T√¨m ki·∫øm
          </button>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>S·∫£n ph·∫©m</th>
                <th>Gi√° v·ªën</th>
                <th>% L·ª£i nhu·∫≠n</th>
                <th>Gi√° b√°n</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="pricing-detail-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="pricing-pagination" class="pagination"></div>
      </div>
    </div>

    <!-- Inventory Page (T·ªìn kho) -->
    <div id="page-inventory" class="page-content" style="display: none;">
      <nav class="breadcrumb">
        <p class="breadcrumb-title">Qu·∫£n l√Ω t·ªìn kho</p>
      </nav>

      <div class="stats-grid" style="margin-bottom: 2rem;">
        <div class="stat-card">
          <div class="stat-icon blue">
            <i class="material-icons">inventory</i>
          </div>
          <div class="stat-content">
            <p class="stat-label">T·ªïng t·ªìn kho</p>
            <h4 class="stat-value" id="total-stock">0</h4>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon red">
            <i class="material-icons">warning</i>
          </div>
          <div class="stat-content">
            <p class="stat-label">S·∫Øp h·∫øt h√†ng</p>
            <h4 class="stat-value" id="low-stock">0</h4>
          </div>
        </div>
      </div>

      <div class="table-container">
        <div class="table-header">
          <h2 class="table-title">
            <i class="material-icons">warehouse</i>
            T√¨nh tr·∫°ng t·ªìn kho
          </h2>
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
          <input type="text" class="search-input" placeholder="üîç T√¨m ki·∫øm..." style="flex: 1;">
          <button class="btn btn-primary" onclick="showPage('inventory')">
            <i class="material-icons">search</i> T√¨m ki·∫øm
          </button>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>S·∫£n ph·∫©m</th>
                <th>Danh m·ª•c</th>
                <th>T·ªïng nh·∫≠p</th>
                <th>ƒê√£ b√°n</th>
                <th>T·ªìn kho</th>
                <th>Tr·∫°ng th√°i</th>
              </tr>
            </thead>
            <tbody id="inventory-tbody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div id="inventory-pagination" class="pagination"></div>
      </div>
    </div>
  </main>

  <!-- Modal Form Th√™m/S·ª≠a S·∫£n Ph·∫©m -->
  <div id="product-modal" class="modal" style="display: none;">
    <div class="modal-overlay" onclick="closeProductModal()"></div>
    <div class="modal-content" style="max-width: 1000px;">
      <div class="modal-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <h2 id="modal-title" style="color: white;">
          <i class="material-icons" style="vertical-align: middle; margin-right: 8px;">inventory_2</i>
          Th√¥ng tin s·∫£n ph·∫©m
        </h2>
        <button class="modal-close" onclick="closeProductModal()">
          <i class="material-icons">close</i>
        </button>
      </div>
      
      <div style="padding: 20px 30px; background: #f8f9fa; border-bottom: 1px solid #dee2e6;">
        <p style="margin: 0; color: #6c757d; font-size: 14px;">C·∫≠p nh·∫≠t c√°c th√¥ng tin c·ªßa s·∫£n ph·∫©m</p>
      </div>
      
      <form id="product-form" onsubmit="saveProduct(event)">
        <div style="display: grid; grid-template-columns: 1fr 300px; gap: 30px; padding: 30px;">
          <!-- Left Column -->
          <div>
            <div class="form-group" style="margin-bottom: 20px;">
              <label for="product-name" style="display: block; margin-bottom: 8px; font-weight: 600; color: #344767;">
                T√™n s·∫£n ph·∫©m <span class="required" style="color: #dc3545;">*</span>
              </label>
              <input type="text" id="product-name" name="name" required 
                     style="width: 100%; padding: 12px; border: 1px solid #d2d6da; border-radius: 8px; font-size: 14px;">
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
              <label for="product-type" style="display: block; margin-bottom: 8px; font-weight: 600; color: #344767;">
                Danh m·ª•c <span class="required" style="color: #dc3545;">*</span>
              </label>
              <input type="text" id="product-type" name="type" required 
                     style="width: 100%; padding: 12px; border: 1px solid #d2d6da; border-radius: 8px; font-size: 14px;">
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
              <label for="product-price" style="display: block; margin-bottom: 8px; font-weight: 600; color: #344767;">
                Gi√° s·∫£n ph·∫©m <span class="required" style="color: #dc3545;">*</span>
              </label>
              <input type="number" id="product-price" name="price" min="0" required 
                     style="width: 100%; padding: 12px; border: 1px solid #d2d6da; border-radius: 8px; font-size: 14px;">
              <small style="color: #6c757d; font-size: 12px; margin-top: 4px; display: block;">ƒê∆°n v·ªã: VNƒê</small>
            </div>

            <div class="form-group" style="margin-bottom: 20px;">
              <label for="product-description" style="display: block; margin-bottom: 8px; font-weight: 600; color: #344767;">
                M√¥ t·∫£ s·∫£n ph·∫©m
              </label>
              <textarea id="product-description" name="description" rows="6" 
                        style="width: 100%; padding: 12px; border: 1px solid #d2d6da; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical;"></textarea>
            </div>
          </div>

          <!-- Right Column - Image -->
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #344767;">
              H√¨nh ·∫£nh s·∫£n ph·∫©m
            </label>
            <div style="border: 2px dashed #d2d6da; border-radius: 8px; padding: 20px; text-align: center; background: white;">
              <img id="product-image-preview" src="../img/UpdatingProduct.png" alt="Preview" 
                   style="max-width: 100%; max-height: 250px; border-radius: 8px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
              <input type="hidden" id="product-id" name="id">
              <input type="hidden" id="product-img" name="img" value="/img/Products/Other/placeholder.jpg">
              <button type="button" class="btn btn-primary" onclick="alert('Ch·ª©c nƒÉng upload ƒëang ph√°t tri·ªÉn')" 
                      style="width: 100%; padding: 12px; background: #28a745; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
                <i class="material-icons" style="vertical-align: middle; font-size: 18px;">edit</i>
                Thay ƒë·ªïi h√¨nh ·∫£nh
              </button>
            </div>
          </div>
        </div>

        <div style="padding: 20px 30px; background: #f8f9fa; border-top: 1px solid #dee2e6; display: flex; gap: 10px; justify-content: flex-end;">
          <button type="button" class="btn btn-secondary" onclick="closeProductModal()" 
                  style="padding: 12px 24px; background: #6c757d; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
            <i class="material-icons" style="vertical-align: middle; font-size: 18px;">arrow_back</i>
            Quay v·ªÅ
          </button>
          <button type="submit" class="btn btn-primary" 
                  style="padding: 12px 24px; background: #dc3545; border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer;">
            <i class="material-icons" style="vertical-align: middle; font-size: 18px;">save</i>
            L∆∞u thay ƒë·ªïi
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Form T·∫°o Phi·∫øu Nh·∫≠p -->
  <div id="import-modal" class="modal" style="display: none;">
    <div class="modal-overlay" onclick="closeImportModal()"></div>
    <div class="modal-content" style="max-width: 900px;">
      <div class="modal-header" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
        <h2>
          <i class="material-icons" style="vertical-align: middle; margin-right: 8px;">add_shopping_cart</i>
          T·∫°o phi·∫øu nh·∫≠p h√†ng
        </h2>
        <button class="modal-close" onclick="closeImportModal()">
          <i class="material-icons">close</i>
        </button>
      </div>
      
      <form id="import-form" onsubmit="saveImport(event)">
        <div class="form-row">
          <div class="form-group">
            <label for="import-id">M√£ phi·∫øu nh·∫≠p <span class="required">*</span></label>
            <input type="text" id="import-id" name="id" required placeholder="T·ª± ƒë·ªông t·∫°o...">
          </div>
          
          <div class="form-group">
            <label for="import-date">Ng√†y nh·∫≠p <span class="required">*</span></label>
            <input type="date" id="import-date" name="date" required>
          </div>
        </div>

        <div class="form-group">
          <label>
            <i class="material-icons" style="vertical-align: middle; font-size: 18px;">inventory_2</i>
            Danh s√°ch s·∫£n ph·∫©m nh·∫≠p
          </label>
          
          <div style="margin-bottom: 12px;">
            <button type="button" class="btn btn-primary" onclick="addImportItem()" style="width: 100%;">
              <i class="material-icons">add</i> Th√™m s·∫£n ph·∫©m
            </button>
          </div>

          <div id="import-items-container" style="max-height: 400px; overflow-y: auto; border: 1px solid #e9ecef; border-radius: 8px; padding: 16px; background: #f8f9fa;">
            <!-- Import items will be added here -->
          </div>
        </div>

        <div class="form-group" style="background: linear-gradient(135deg, #f093fb22 0%, #f5576c22 100%); padding: 20px; border-radius: 8px;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <strong style="font-size: 18px;">
              <i class="material-icons" style="vertical-align: middle;">payments</i>
              T·ªïng ti·ªÅn nh·∫≠p:
            </strong>
            <span id="import-total" style="font-size: 24px; color: #f5576c; font-weight: bold;">0 ‚Ç´</span>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" onclick="closeImportModal()">
            <i class="material-icons">close</i> H·ªßy
          </button>
          <button type="submit" class="btn btn-primary">
            <i class="material-icons">save</i> L∆∞u phi·∫øu nh·∫≠p
          </button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ==================== ENHANCED JAVASCRIPT ====================
    
    // Loading Overlay
    function showLoading() {
      let overlay = document.getElementById('loading-overlay');
      if (!overlay) {
        overlay = document.createElement('div');
        overlay.id = 'loading-overlay';
        overlay.innerHTML = '<div class="loading-spinner"></div>';
        overlay.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 10000; backdrop-filter: blur(4px);';
        document.body.appendChild(overlay);
      }
      overlay.style.display = 'flex';
      setTimeout(() => overlay.style.opacity = '1', 10);
    }

    function hideLoading() {
      const overlay = document.getElementById('loading-overlay');
      if (overlay) {
        overlay.style.opacity = '0';
        setTimeout(() => overlay.style.display = 'none', 300);
      }
    }

    // Toast Notification


    // Helper Functions
    function getData(key) {
      return JSON.parse(localStorage.getItem(key) || '[]');
    }

    function setData(key, data) {
      localStorage.setItem(key, JSON.stringify(data));
    }

    function formatCurrency(amount) {
      return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);
    }

    function formatDate(dateString) {
      if (!dateString) return '';
      const date = new Date(dateString);
      return date.toLocaleDateString('vi-VN');
    }

    // Toggle Mobile Menu
    function toggleMobileMenu() {
      const menu = document.getElementById('navbarMenu');
      menu.classList.toggle('show');
    }

    // Smooth Page Navigation with Loading
    function showPage(pageName) {
      // Prevent event default behavior
      if (event) {
        event.preventDefault();
      }
      
      // Hide all pages instantly
      document.querySelectorAll('.page-content').forEach(page => {
        page.style.display = 'none';
      });
      
      // Remove active class from all menu items
      document.querySelectorAll('.navbar-menu a').forEach(link => {
        link.classList.remove('active');
      });
      
      // Show selected page
      const targetPage = document.getElementById('page-' + pageName);
      if (targetPage) {
        targetPage.style.display = 'block';
        targetPage.style.opacity = '1';
        
        // Add active class to clicked menu item
        if (event && event.target) {
          event.target.closest('a').classList.add('active');
        }
        
        // Load data for the page
        loadPageData(pageName);
        
        // Close mobile menu after selection
        if (window.innerWidth <= 768) {
          const menu = document.getElementById('navbarMenu');
          if (menu) {
            menu.classList.remove('show');
          }
        }
      }
    }

    function loadPageData(pageName) {
      switch(pageName) {
        case 'dashboard':
          loadDashboard();
          break;
        case 'customers':
          loadCustomers();
          break;
        case 'products':
          loadProducts();
          break;
        case 'orders':
          loadOrders();
          break;
        case 'categories':
          loadCategories();
          break;
        case 'imports':
          loadImports();
          break;
        case 'pricing':
          loadPricing();
          break;
        case 'inventory':
          loadInventory();
          break;
      }
    }

    // Load Dashboard with Animations
    function loadDashboard() {
      const users = getData('user');
      const products = getData('product');
      const orders = getData('orders') || [];
      
      // Animate counting up
      animateValue('total-customers', 0, users.filter(u => u.userType !== 'admin').length, 800);
      animateValue('total-products', 0, products.length, 800);
      animateValue('total-orders', 0, orders.length, 800);
      
      const revenue = orders.filter(o => o.status === 'giaohang').reduce((sum, o) => sum + (o.total || 0), 0);
      animateCurrency('total-revenue', 0, revenue, 800);
    }

    // Animate Number Count Up
    function animateValue(id, start, end, duration) {
      const element = document.getElementById(id);
      const range = end - start;
      const increment = range / (duration / 16);
      let current = start;
      
      const timer = setInterval(() => {
        current += increment;
        if (current >= end) {
          current = end;
          clearInterval(timer);
        }
        element.textContent = Math.floor(current);
      }, 16);
    }

    // Animate Currency Count Up
    function animateCurrency(id, start, end, duration) {
      const element = document.getElementById(id);
      const range = end - start;
      const increment = range / (duration / 16);
      let current = start;
      
      const timer = setInterval(() => {
        current += increment;
        if (current >= end) {
          current = end;
          clearInterval(timer);
        }
        element.textContent = formatCurrency(Math.floor(current));
      }, 16);
    }

    // Pagination variables
    let currentPage = {
      customers: 1,
      products: 1,
      orders: 1,
      imports: 1,
      inventory: 1
    };
    const itemsPerPage = 10;
    let currentCustomerFilter = '';

    // Load Customers with Enhanced Display and Pagination
    function loadCustomers(page = 1, filterType = '') {
      currentPage.customers = page;
      let users = getData('user');
      
      // Apply filter if selected
      if (filterType) {
        users = users.filter(user => user.userType === filterType);
      }
      
      const tbody = document.getElementById('customers-tbody');
      
      if (users.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="7" style="text-align: center; padding: 60px 20px;">
              <div class="empty-state">
                <i class="material-icons" style="font-size: 64px; color: #ccc; margin-bottom: 16px;">people_outline</i>
                <p style="color: #999; font-size: 16px;">Ch∆∞a c√≥ kh√°ch h√†ng n√†o</p>
              </div>
            </td>
          </tr>
        `;

        document.getElementById('customers-pagination').innerHTML = '';
        return;
      }
      
      // Pagination
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedUsers = users.slice(startIndex, endIndex);
      const totalPages = Math.ceil(users.length / itemsPerPage);
      
      let html = '';
      paginatedUsers.forEach((user, index) => {
        const actualIndex = startIndex + index;
        const status = user.status || 'active';
        const badgeClass = status === 'locked' ? 'badge-danger' : 'badge-success';
        const badgeText = status === 'locked' ? 'B·ªã kh√≥a' : 'Ho·∫°t ƒë·ªông';
        const badgeIcon = status === 'locked' ? 'lock' : 'check_circle';
        
        html += `
          <tr>
            <td style="text-align: center;">${index + 1}</td>
            <td><strong>${user.username}</strong></td>
            <td>${user.gmail}</td>
            <td style="text-align: center;">${formatDate(user.RegisterDay)}</td>
            <td style="text-align: center;">
              <span class="badge ${user.userType === 'admin' ? 'badge-info' : 'badge-warning'}">
                <i class="material-icons" style="font-size: 14px; vertical-align: middle;">
                  ${user.userType === 'admin' ? 'admin_panel_settings' : 'person'}
                </i>
                ${user.userType === 'admin' ? 'Admin' : 'Kh√°ch h√†ng'}
              </span>
            </td>
            <td style="text-align: center;">
              <span class="badge ${badgeClass}">
                <i class="material-icons" style="font-size: 14px; vertical-align: middle;">${badgeIcon}</i>
                ${badgeText}
              </span>
            </td>
            <td>
              <div class="actions">
                <button class="btn btn-edit" onclick="resetPassword(${actualIndex})" title="Reset m·∫≠t kh·∫©u" style="background: #ff9800;">
                  <i class="material-icons">vpn_key</i>
                </button>
                <button class="btn ${status === 'locked' ? 'btn-success' : 'btn-delete'}" onclick="toggleUserStatus(${actualIndex})" title="${status === 'locked' ? 'M·ªü kh√≥a' : 'Kh√≥a t√†i kho·∫£n'}">
                  <i class="material-icons">${status === 'locked' ? 'lock_open' : 'lock'}</i>
                </button>
              </div>
            </td>
          </tr>
        `;
      });
      
      tbody.innerHTML = html;

      
      // Render pagination
      renderPagination('customers', totalPages, page);
    }
    
    // Filter By Type
    function filterByType(type) {
      currentCustomerFilter = type;
      loadCustomers(1, type);
    }
    
    // Render Pagination
    function renderPagination(type, totalPages, currentPage) {
      const containerId = type + '-pagination';
      const container = document.getElementById(containerId);
      if (!container) return;
      
      let html = '';
      
      // Previous button
      html += `<button class="page-btn" onclick="changePage('${type}', ${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
        <i class="material-icons" style="font-size: 18px;">chevron_left</i>
      </button>`;
      
      // Page numbers
      for (let i = 1; i <= totalPages; i++) {
        if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
          html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="changePage('${type}', ${i})">${i}</button>`;
        } else if (i === currentPage - 2 || i === currentPage + 2) {
          html += `<span style="padding: 8px;">...</span>`;
        }
      }
      
      // Next button
      html += `<button class="page-btn" onclick="changePage('${type}', ${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
        <i class="material-icons" style="font-size: 18px;">chevron_right</i>
      </button>`;
      
      container.innerHTML = html;
    }
    
    // Filter By Type
    function filterByType(type) {
      currentCustomerFilter = type;
      loadCustomers(1, type);
    }
    
    // Change Page
    function changePage(type, page) {
      switch(type) {
        case 'customers':
          loadCustomers(page, currentCustomerFilter);
          break;
        case 'products':
          loadProducts(page);
          break;
        case 'orders':
          loadOrders(page);
          break;
        case 'categories':
          loadCategories(page);
          break;
        case 'imports':
          loadImports(page);
          break;
        case 'pricing':
          loadPricing(page);
          break;
        case 'inventory':
          loadInventory(page);
          break;
      }
    }

    // Load Products with Enhanced Display and Pagination
    function loadProducts(page = 1) {
      currentPage.products = page;
      const products = getData('product') || [];
      const types = getData('types') || [];
      const tbody = document.getElementById('products-tbody');
      const filterSelect = document.getElementById('filter-category');
      
      // Load categories into filter
      if (filterSelect) {
        let options = '<option value="">T·∫•t c·∫£ danh m·ª•c</option>';
        types.forEach(type => {
          if (type.id !== 'All') {
            options += `<option value="${type.id}">${type.name}</option>`;
          }
        });
        filterSelect.innerHTML = options;
      }
      
      if (!products || products.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="6" style="text-align: center; padding: 60px 20px;">
              <div class="empty-state">
                <i class="material-icons" style="font-size: 64px; color: #ccc; margin-bottom: 16px;">inventory_2</i>
                <p style="color: #999; font-size: 16px;">Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o</p>
              </div>
            </td>
          </tr>
        `;

        return;
      }
      
      // Pagination
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedProducts = products.slice(startIndex, endIndex);
      const totalPages = Math.ceil(products.length / itemsPerPage);
      
      // Load products
      let html = '';
      paginatedProducts.forEach(product => {
        const hasDescription = product.description && product.description.trim() !== '';
        
        // X·ª≠ l√Ω ƒë∆∞·ªùng d·∫´n ·∫£nh - l·∫•y ph·∫ßn sau /img/Products/
        let imgPath = product.img;
        if (imgPath.includes('/img/Products/')) {
          imgPath = imgPath.split('/img/Products/')[1];
        }
        const fullImgPath = `../img/Products/${imgPath}`;
        console.log('Product:', product.name, 'Image path:', fullImgPath);
        
        html += `
          <tr>
            <td style="text-align: center;"><strong>${product.id}</strong></td>
            <td>
              <div style="display: flex; align-items: center; gap: 12px;">
                <img src="${fullImgPath}" onerror="this.src='../img/UpdatingProduct.png';" style="max-width: 50px; max-height: 50px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" alt="${product.name}">
                <div>
                  <strong>${product.name}</strong>
                  ${hasDescription ? '<br><small style="color: #6c757d;"><i class="material-icons" style="font-size: 12px; vertical-align: middle;">description</i> C√≥ m√¥ t·∫£</small>' : ''}
                </div>
              </div>
            </td>
            <td style="text-align: center;">
              <span class="badge badge-info">
                <i class="material-icons" style="font-size: 14px; vertical-align: middle;">category</i>
                ${product.type}
              </span>
            </td>
            <td style="text-align: center;"><strong style="color: #14b8a6;">${formatCurrency(product.price)}</strong></td>
            <td>
              <div class="actions">
                <button class="btn btn-edit" onclick="editProduct('${product.id}')" title="Ch·ªânh s·ª≠a">
                  <i class="material-icons">edit</i>
                </button>
                <button class="btn btn-delete" onclick="deleteProduct('${product.id}')" title="X√≥a/·∫®n">
                  <i class="material-icons">delete</i>
                </button>
              </div>
            </td>
          </tr>
        `;
      });
      
      tbody.innerHTML = html;

      
      renderPagination('products', totalPages, page);
    }

    // Load Orders with Enhanced Display and Pagination
    function loadOrders(page = 1) {
      currentPage.orders = page;
      const orders = getData('orders') || [];
      const tbody = document.getElementById('orders-tbody');
      
      if (orders.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="6" style="text-align: center; padding: 60px 20px;">
              <div class="empty-state">
                <i class="material-icons" style="font-size: 64px; color: #ccc; margin-bottom: 16px;">receipt_long</i>
                <p style="color: #999; font-size: 16px;">Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o</p>
              </div>
            </td>
          </tr>
        `;

        return;
      }
      
      // Pagination
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedOrders = orders.slice(startIndex, endIndex);
      const totalPages = Math.ceil(orders.length / itemsPerPage);
      
      let html = '';
      paginatedOrders.forEach((order, index) => {
        let statusClass = 'badge-warning';
        let statusText = 'M·ªõi ƒë·∫∑t';
        let statusIcon = 'schedule';
        
        if (order.status === 'xuly') { 
          statusClass = 'badge-info'; 
          statusText = 'ƒê√£ x·ª≠ l√Ω'; 
          statusIcon = 'inventory';
        }
        if (order.status === 'giaohang') { 
          statusClass = 'badge-success'; 
          statusText = 'ƒê√£ giao'; 
          statusIcon = 'check_circle';
        }
        if (order.status === 'huy') { 
          statusClass = 'badge-danger'; 
          statusText = 'Hu·ª∑'; 
          statusIcon = 'cancel';
        }
        
        html += `
          <tr>
            <td style="text-align: center;"><strong>#${order.id || index + 1}</strong></td>
            <td>${order.customerName || 'Kh√°ch v√£ng lai'}</td>
            <td style="text-align: center;">${formatDate(order.date)}</td>
            <td style="text-align: center;"><strong style="color: #14b8a6;">${formatCurrency(order.total || 0)}</strong></td>
            <td style="text-align: center;">
              <span class="badge ${statusClass}">
                <i class="material-icons" style="font-size: 14px; vertical-align: middle;">${statusIcon}</i>
                ${statusText}
              </span>
            </td>
            <td>
              <div class="actions">
                <button class="btn btn-edit" onclick="viewOrder(${index})" title="Xem chi ti·∫øt">
                  <i class="material-icons">visibility</i>
                </button>
              </div>
            </td>
          </tr>
        `;
      });
      
      tbody.innerHTML = html;

      
      renderPagination('orders', totalPages, page);
    }

    // Load Categories with Enhanced Display and Pagination
    function loadCategories(page = 1) {
      currentPage.categories = page;
      const types = getData('types') || [];
      const products = getData('product') || [];
      const tbody = document.getElementById('categories-tbody');
      
      console.log('Types:', types);
      console.log('Products:', products.length);
      
      const categories = types.filter(t => t.id !== 'All');
      
      if (categories.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="4" style="text-align: center; padding: 60px 20px;">
              <div class="empty-state">
                <i class="material-icons" style="font-size: 64px; color: #ccc; margin-bottom: 16px;">category</i>
                <p style="color: #999; font-size: 16px;">Ch∆∞a c√≥ danh m·ª•c n√†o</p>
              </div>
            </td>
          </tr>
        `;

        return;
      }
      
      // Pagination
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedCategories = categories.slice(startIndex, endIndex);
      const totalPages = Math.ceil(categories.length / itemsPerPage);
      
      let html = '';
      paginatedCategories.forEach(type => {
        // So s√°nh v·ªõi c·∫£ type.id v√† type.name v√¨ c√≥ th·ªÉ c·∫•u tr√∫c kh√°c nhau
        const count = products.filter(p => {
          return p.type === type.id || p.type === type.name || p.type.includes(type.id);
        }).length;
        console.log(`Category ${type.id} (${type.name}): ${count} products`);
        html += `
          <tr>
            <td style="text-align: center;"><strong>${type.id}</strong></td>
            <td><strong>${type.name}</strong></td>
            <td style="text-align: center;">
              <span class="badge badge-info">
                <i class="material-icons" style="font-size: 14px; vertical-align: middle;">inventory_2</i>
                ${count} s·∫£n ph·∫©m
              </span>
            </td>
            <td>
              <div class="actions">
                <button class="btn btn-edit" onclick="editCategory('${type.id}')" title="Ch·ªânh s·ª≠a">
                  <i class="material-icons">edit</i>
                </button>
                <button class="btn btn-delete" onclick="deleteCategory('${type.id}')" title="X√≥a">
                  <i class="material-icons">delete</i>
                </button>
              </div>
            </td>
          </tr>
        `;
      });
      
      tbody.innerHTML = html;

      
      renderPagination('categories', totalPages, page);
    }

    // Enhanced Filter Table with Debouncing
    let filterTimeout;
    function filterTable(tableId, searchText) {
      clearTimeout(filterTimeout);
      filterTimeout = setTimeout(() => {
        const table = document.getElementById(tableId);
        const rows = table.getElementsByTagName('tr');
        let visibleCount = 0;
        
        for (let i = 1; i < rows.length; i++) {
          const row = rows[i];
          const text = row.textContent.toLowerCase();
          const isVisible = text.includes(searchText.toLowerCase());
          row.style.display = isVisible ? '' : 'none';
          if (isVisible) visibleCount++;
        }
        
        // Update showing count
        const pageName = tableId.split('-')[0];
        const countElement = document.getElementById(`showing-${pageName}`);
        if (countElement) {
          countElement.textContent = visibleCount;
        }
      }, 300);
    }

    // Filter by Type
    function filterByType(type) {
      const rows = document.querySelectorAll('#customers-table tbody tr');
      let visibleCount = 0;
      
      rows.forEach(row => {
        const isVisible = !type || row.textContent.includes(type);
        row.style.display = isVisible ? '' : 'none';
        if (isVisible) visibleCount++;
      });
      

    }

    // Filter by Category
    function filterByCategory(category) {
      const rows = document.querySelectorAll('#products-table tbody tr');
      let visibleCount = 0;
      
      rows.forEach(row => {
        const isVisible = !category || row.textContent.includes(category);
        row.style.display = isVisible ? '' : 'none';
        if (isVisible) visibleCount++;
      });
      

    }

    // Edit Functions (Placeholders for future implementation)
    function editUser(index) {

    }

    function editProduct(id) {
      const products = getData('product');
      const product = products.find(p => p.id == id);
      
      if (product) {
        // Hi·ªÉn th·ªã modal
        document.getElementById('product-modal').style.display = 'flex';
        document.getElementById('modal-title').innerHTML = '<i class="material-icons" style="vertical-align: middle; margin-right: 8px;">edit</i>Ch·ªânh s·ª≠a s·∫£n ph·∫©m';
        
        // ƒêi·ªÅn d·ªØ li·ªáu v√†o form
        document.getElementById('product-id').value = product.id;
        document.getElementById('product-name').value = product.name;
        document.getElementById('product-type').value = product.type;
        document.getElementById('product-price').value = product.price;
        document.getElementById('product-img').value = product.img;
        document.getElementById('product-description').value = product.description || '';
        
        // C·∫≠p nh·∫≠t preview h√¨nh ·∫£nh
        let imgPath = product.img;
        if (imgPath.includes('/img/Products/')) {
          imgPath = imgPath.split('/img/Products/')[1];
        }
        const fullImgPath = `../img/Products/${imgPath}`;
        document.getElementById('product-image-preview').src = fullImgPath;
        
        // ƒê√°nh d·∫•u l√† ch·∫ø ƒë·ªô s·ª≠a
        document.getElementById('product-form').dataset.mode = 'edit';
        document.getElementById('product-form').dataset.productId = product.id;
      }
    }

    function showAddProductForm() {
      // Hi·ªÉn th·ªã modal
      document.getElementById('product-modal').style.display = 'flex';
      document.getElementById('modal-title').innerHTML = '<i class="material-icons" style="vertical-align: middle; margin-right: 8px;">add</i>Th√™m s·∫£n ph·∫©m m·ªõi';
      
      // Reset form
      document.getElementById('product-form').reset();
      document.getElementById('product-id').value = '';
      document.getElementById('product-image-preview').src = '../img/UpdatingProduct.png';
      
      // ƒê√°nh d·∫•u l√† ch·∫ø ƒë·ªô th√™m
      document.getElementById('product-form').dataset.mode = 'add';
      delete document.getElementById('product-form').dataset.productId;
    }

    function closeProductModal() {
      document.getElementById('product-modal').style.display = 'none';
      document.getElementById('product-form').reset();
    }

    function loadCategoriesIntoSelect() {
      const types = getData('types');
      const select = document.getElementById('product-type');
      
      let options = '<option value="">-- Ch·ªçn danh m·ª•c --</option>';
      types.forEach(type => {
        if (type.id !== 'All') {
          options += `<option value="${type.id}">${type.name}</option>`;
        }
      });
      select.innerHTML = options;
    }

    function saveProduct(event) {
      event.preventDefault();
      
      const form = event.target;
      const mode = form.dataset.mode;
      
      const productData = {
        id: document.getElementById('product-id').value || 'SP' + Date.now(),
        name: document.getElementById('product-name').value,
        type: document.getElementById('product-type').value,
        price: parseInt(document.getElementById('product-price').value),
        img: document.getElementById('product-img').value,
        description: document.getElementById('product-description').value,
        stock: 0
      };
      
      showLoading();
      
      setTimeout(() => {
        const products = getData('product') || [];
        
        if (mode === 'add') {
          products.push(productData);
          setData('product', products);

        } else if (mode === 'edit') {
          const index = products.findIndex(p => p.id === productData.id);
          if (index !== -1) {
            productData.stock = products[index].stock;
            products[index] = productData;
            setData('product', products);

          }
        }
        
        hideLoading();
        closeProductModal();
        loadProducts();
      }, 500);
    }

    function viewOrder(index) {
      // Hi·ªÉn th·ªã hardcode chi ti·∫øt ƒë∆°n h√†ng m·∫´u
      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.style.display = 'flex';
      modal.innerHTML = `
        <div class="modal-overlay" onclick="this.parentElement.remove()"></div>
        <div class="modal-content" style="max-width: 800px;">
          <div class="modal-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <h2 style="color: white;">
              <i class="material-icons" style="vertical-align: middle; margin-right: 8px;">receipt_long</i>
              Chi ti·∫øt ƒë∆°n h√†ng #DH001
            </h2>
            <button class="modal-close" onclick="this.closest('.modal').remove()">
              <i class="material-icons">close</i>
            </button>
          </div>
          <div style="padding: 30px;">
            <!-- Th√¥ng tin kh√°ch h√†ng -->
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
              <h3 style="margin: 0 0 15px 0; color: #344767; font-size: 16px;">
                <i class="material-icons" style="vertical-align: middle; font-size: 18px;">person</i>
                Th√¥ng tin kh√°ch h√†ng
              </h3>
              <p style="margin: 0 0 8px 0;"><strong>H·ªç t√™n:</strong> Nguy·ªÖn VƒÉn A</p>
              <p style="margin: 0 0 8px 0;"><strong>SƒêT:</strong> 0123456789</p>
              <p style="margin: 0 0 8px 0;"><strong>ƒê·ªãa ch·ªâ:</strong> 123 ƒê∆∞·ªùng ABC, Ph∆∞·ªùng XYZ, Qu·∫≠n 1, TP.HCM</p>
              <p style="margin: 0;"><strong>Ng√†y ƒë·∫∑t:</strong> 10-11-2024</p>
            </div>

            <!-- Danh s√°ch s·∫£n ph·∫©m -->
            <div style="margin-bottom: 20px;">
              <h3 style="margin: 0 0 15px 0; color: #344767; font-size: 16px;">
                <i class="material-icons" style="vertical-align: middle; font-size: 18px;">shopping_cart</i>
                Danh s√°ch s·∫£n ph·∫©m
              </h3>
              <table style="width: 100%; border-collapse: collapse;">
                <thead>
                  <tr style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                    <th style="padding: 12px; text-align: left;">S·∫£n ph·∫©m</th>
                    <th style="padding: 12px; text-align: center;">S·ªë l∆∞·ª£ng</th>
                    <th style="padding: 12px; text-align: right;">Gi√°</th>
                    <th style="padding: 12px; text-align: right;">Th√†nh ti·ªÅn</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style="border-bottom: 1px solid #dee2e6;">
                    <td style="padding: 12px;">Keycap GMK Dracula</td>
                    <td style="padding: 12px; text-align: center;">1</td>
                    <td style="padding: 12px; text-align: right;">2,500,000 ‚Ç´</td>
                    <td style="padding: 12px; text-align: right; font-weight: bold;">2,500,000 ‚Ç´</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- T·ªïng ti·ªÅn -->
            <div style="background: #fff3cd; padding: 20px; border-radius: 8px; border-left: 4px solid #ffc107;">
              <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="margin: 0; color: #856404; font-size: 18px;">T·ªïng c·ªông:</h3>
                <p style="margin: 0; color: #14b8a6; font-size: 24px; font-weight: bold;">2,500,000 ‚Ç´</p>
              </div>
            </div>

            <!-- Tr·∫°ng th√°i -->
            <div style="margin-top: 20px; text-align: center;">
              <span class="badge badge-success" style="font-size: 14px; padding: 8px 16px;">
                <i class="material-icons" style="vertical-align: middle; font-size: 16px;">check_circle</i>
                ƒê√£ giao h√†ng
              </span>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
    }



    function editCategory(id) {

    }

    function showAddCategoryForm() {

    }

    function deleteProduct(id) {
      if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a/·∫©n s·∫£n ph·∫©m n√†y?')) {
        showLoading();
        
        setTimeout(() => {
          const products = getData('product') || [];
          const index = products.findIndex(p => p.id === id);
          
          if (index !== -1) {
            products.splice(index, 1);
            setData('product', products);

            loadProducts();
          }
          
          hideLoading();
        }, 300);
      }
    }

    // Delete Functions with Confirmation
    function deleteUser(index) {
      if (confirm('‚ö†Ô∏è B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a kh√°ch h√†ng n√†y?\n\nThao t√°c n√†y kh√¥ng th·ªÉ ho√†n t√°c!')) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 500);
      }
    }

    function deleteProduct(id) {
      if (confirm('‚ö†Ô∏è B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a s·∫£n ph·∫©m n√†y?\n\nThao t√°c n√†y kh√¥ng th·ªÉ ho√†n t√°c!')) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 500);
      }
    }

    function deleteCategory(id) {
      if (confirm('‚ö†Ô∏è B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a danh m·ª•c n√†y?\n\nThao t√°c n√†y kh√¥ng th·ªÉ ho√†n t√°c!')) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 500);
      }
    }

    // ==================== USER MANAGEMENT FUNCTIONS ====================
    
    // Reset m·∫≠t kh·∫©u
    function resetPassword(index) {
      if (confirm('‚ö†Ô∏è Reset m·∫≠t kh·∫©u v·ªÅ "123456" cho t√†i kho·∫£n n√†y?')) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 300);
      }
    }

    // Kh√≥a/M·ªü kh√≥a t√†i kho·∫£n
    function toggleUserStatus(index) {
      const action = Math.random() > 0.5 ? 'kh√≥a' : 'm·ªü kh√≥a';
      
      if (confirm(`‚ö†Ô∏è B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën ${action} t√†i kho·∫£n n√†y?`)) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 300);
      }
    }

    // ==================== IMPORTS MANAGEMENT ====================
    
    function loadImports(page = 1) {
      currentPage.imports = page;
      const imports = getData('imports') || [];
      const tbody = document.getElementById('imports-tbody');
      
      if (imports.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="6" style="text-align: center; padding: 60px 20px;">
              <div class="empty-state">
                <i class="material-icons" style="font-size: 64px; color: #ccc; margin-bottom: 16px;">add_shopping_cart</i>
                <p style="color: #999; font-size: 16px;">Ch∆∞a c√≥ phi·∫øu nh·∫≠p n√†o</p>
              </div>
            </td>
          </tr>
        `;

        return;
      }
      
      // Pagination
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedImports = imports.slice(startIndex, endIndex);
      const totalPages = Math.ceil(imports.length / itemsPerPage);
      
      let html = '';
      paginatedImports.forEach((imp, index) => {
        const actualIndex = startIndex + index;
        const statusClass = imp.status === 'completed' ? 'badge-success' : 'badge-warning';
        const statusText = imp.status === 'completed' ? 'ƒê√£ ho√†n th√†nh' : 'Ch∆∞a ho√†n th√†nh';
        
        html += `
          <tr>
            <td style="text-align: center;"><strong>#${imp.id || index + 1}</strong></td>
            <td style="text-align: center;">${formatDate(imp.date)}</td>
            <td style="text-align: center;">${imp.items ? imp.items.length : 0}</td>
            <td style="text-align: center;"><strong style="color: #14b8a6;">${formatCurrency(imp.total || 0)}</strong></td>
            <td style="text-align: center;">
              <span class="badge ${statusClass}">${statusText}</span>
            </td>
            <td>
              <div class="actions">
                <button class="btn btn-edit" onclick="viewImport(${actualIndex})" title="Xem chi ti·∫øt">
                  <i class="material-icons">visibility</i>
                </button>
                ${imp.status !== 'completed' ? `
                <button class="btn btn-success" onclick="completeImport(${actualIndex})" title="Ho√†n th√†nh">
                  <i class="material-icons">check</i>
                </button>
                ` : ''}
              </div>
            </td>
          </tr>
        `;
      });
      
      tbody.innerHTML = html;

      
      renderPagination('imports', totalPages, page);
    }

    function showAddImportForm() {
      // Hi·ªÉn th·ªã modal
      document.getElementById('import-modal').style.display = 'flex';
      
      // T·∫°o m√£ phi·∫øu t·ª± ƒë·ªông
      const imports = getData('imports') || [];
      const newId = 'PN' + String(imports.length + 1).padStart(4, '0');
      document.getElementById('import-id').value = newId;
      
      // Set ng√†y hi·ªán t·∫°i
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('import-date').value = today;
      
      // Reset container
      document.getElementById('import-items-container').innerHTML = '<p style="text-align: center; color: #999;">Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o. Nh·∫•n "Th√™m s·∫£n ph·∫©m" ƒë·ªÉ b·∫Øt ƒë·∫ßu.</p>';
      document.getElementById('import-total').textContent = '0 ‚Ç´';
      
      // Reset items array
      window.importItems = [];
    }

    function closeImportModal() {
      document.getElementById('import-modal').style.display = 'none';
      document.getElementById('import-form').reset();
      window.importItems = [];
    }

    let importItemCounter = 0;

    function addImportItem() {
      const products = getData('product');
      
      if (products.length === 0) {

        return;
      }

      const container = document.getElementById('import-items-container');
      const itemId = 'import-item-' + (++importItemCounter);
      
      // T·∫°o options cho select
      let productOptions = '<option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>';
      products.forEach(product => {
        productOptions += `<option value="${product.id}" data-name="${product.name}">${product.name}</option>`;
      });
      
      const itemHtml = `
        <div class="import-item" id="${itemId}">
          <div class="import-item-header">
            <strong style="color: #14b8a6;">
              <i class="material-icons" style="font-size: 16px; vertical-align: middle;">shopping_cart</i>
              S·∫£n ph·∫©m #${importItemCounter}
            </strong>
            <button type="button" class="import-item-remove" onclick="removeImportItem('${itemId}')">
              <i class="material-icons" style="font-size: 16px;">close</i>
            </button>
          </div>
          <div class="import-item-body">
            <div class="form-group" style="margin: 0;">
              <label style="font-size: 13px;">S·∫£n ph·∫©m</label>
              <select class="import-product-select" onchange="updateImportTotal()" required>
                ${productOptions}
              </select>
            </div>
            <div class="form-group" style="margin: 0;">
              <label style="font-size: 13px;">S·ªë l∆∞·ª£ng</label>
              <input type="number" class="import-quantity" min="1" value="1" onchange="updateImportTotal()" required style="width: 100%;">
            </div>
            <div class="form-group" style="margin: 0;">
              <label style="font-size: 13px;">Gi√° nh·∫≠p (‚Ç´)</label>
              <input type="number" class="import-price" min="0" value="0" onchange="updateImportTotal()" required style="width: 100%;">
            </div>
            <div class="form-group" style="margin: 0;">
              <label style="font-size: 13px;">Th√†nh ti·ªÅn</label>
              <input type="text" class="import-subtotal" readonly style="width: 100%; background: #e9ecef; font-weight: bold; color: #14b8a6;">
            </div>
          </div>
        </div>
      `;
      
      if (container.querySelector('p')) {
        container.innerHTML = '';
      }
      
      container.insertAdjacentHTML('beforeend', itemHtml);
      updateImportTotal();
    }

    function removeImportItem(itemId) {
      const item = document.getElementById(itemId);
      if (item) {
        item.remove();
        updateImportTotal();
        
        const container = document.getElementById('import-items-container');
        if (container.children.length === 0) {
          container.innerHTML = '<p style="text-align: center; color: #999;">Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o. Nh·∫•n "Th√™m s·∫£n ph·∫©m" ƒë·ªÉ b·∫Øt ƒë·∫ßu.</p>';
        }
      }
    }

    function updateImportTotal() {
      const container = document.getElementById('import-items-container');
      const items = container.querySelectorAll('.import-item');
      let total = 0;
      
      items.forEach(item => {
        const quantity = parseInt(item.querySelector('.import-quantity').value) || 0;
        const price = parseInt(item.querySelector('.import-price').value) || 0;
        const subtotal = quantity * price;
        
        item.querySelector('.import-subtotal').value = formatCurrency(subtotal);
        total += subtotal;
      });
      
      document.getElementById('import-total').textContent = formatCurrency(total);
    }

    function saveImport(event) {
      event.preventDefault();
      
      const container = document.getElementById('import-items-container');
      const itemElements = container.querySelectorAll('.import-item');
      
      if (itemElements.length === 0) {

        return;
      }
      
      // L·∫•y th√¥ng tin phi·∫øu nh·∫≠p
      const importId = document.getElementById('import-id').value;
      const importDate = document.getElementById('import-date').value;
      
      // L·∫•y danh s√°ch s·∫£n ph·∫©m
      const items = [];
      let isValid = true;
      
      itemElements.forEach(item => {
        const productSelect = item.querySelector('.import-product-select');
        const productId = productSelect.value;
        const productName = productSelect.options[productSelect.selectedIndex].getAttribute('data-name');
        const quantity = parseInt(item.querySelector('.import-quantity').value);
        const price = parseInt(item.querySelector('.import-price').value);
        
        if (!productId || quantity <= 0 || price <= 0) {
          isValid = false;
          return;
        }
        
        items.push({
          productId: productId,
          productName: productName,
          quantity: quantity,
          price: price,
          subtotal: quantity * price
        });
      });
      
      if (!isValid) {

        return;
      }
      
      // T√≠nh t·ªïng ti·ªÅn
      const total = items.reduce((sum, item) => sum + item.subtotal, 0);
      
      // L∆∞u phi·∫øu nh·∫≠p
      showLoading();
      setTimeout(() => {
        closeImportModal();
        hideLoading();

      }, 500);
    }

    function viewImport(index) {
      const imports = getData('imports') || [];
      const imp = imports[index];
      
      if (!imp) return;
      
      let itemsHtml = '';
      if (imp.items && imp.items.length > 0) {
        itemsHtml = '<table style="width: 100%; border-collapse: collapse; margin-top: 16px;">';
        itemsHtml += '<thead><tr style="background: #f8f9fa;"><th style="padding: 8px; border: 1px solid #dee2e6;">S·∫£n ph·∫©m</th><th style="padding: 8px; border: 1px solid #dee2e6;">SL</th><th style="padding: 8px; border: 1px solid #dee2e6;">Gi√° nh·∫≠p</th><th style="padding: 8px; border: 1px solid #dee2e6;">Th√†nh ti·ªÅn</th></tr></thead>';
        itemsHtml += '<tbody>';
        imp.items.forEach(item => {
          itemsHtml += `<tr>
            <td style="padding: 8px; border: 1px solid #dee2e6;">${item.productName || item.productId}</td>
            <td style="padding: 8px; border: 1px solid #dee2e6; text-align: center;">${item.quantity}</td>
            <td style="padding: 8px; border: 1px solid #dee2e6; text-align: right;">${formatCurrency(item.price)}</td>
            <td style="padding: 8px; border: 1px solid #dee2e6; text-align: right;"><strong>${formatCurrency(item.subtotal)}</strong></td>
          </tr>`;
        });
        itemsHtml += '</tbody></table>';
      }
      
      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.style.display = 'flex';
      modal.innerHTML = `
        <div class="modal-overlay" onclick="this.parentElement.remove()"></div>
        <div class="modal-content" style="max-width: 700px;">
          <div class="modal-header" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            <h2><i class="material-icons" style="vertical-align: middle; margin-right: 8px;">receipt</i>Chi ti·∫øt phi·∫øu nh·∫≠p #${imp.id}</h2>
            <button class="modal-close" onclick="this.closest('.modal').remove()">
              <i class="material-icons">close</i>
            </button>
          </div>
          <div style="padding: 30px;">
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
              <p style="margin: 0 0 10px 0;"><strong>Ng√†y nh·∫≠p:</strong> ${formatDate(imp.date)}</p>
              <p style="margin: 0 0 10px 0;"><strong>S·ªë l∆∞·ª£ng SP:</strong> ${imp.items ? imp.items.length : 0}</p>
              <p style="margin: 0 0 10px 0;"><strong>Tr·∫°ng th√°i:</strong> 
                <span class="badge ${imp.status === 'completed' ? 'badge-success' : 'badge-warning'}">
                  ${imp.status === 'completed' ? 'ƒê√£ ho√†n th√†nh' : 'Ch∆∞a ho√†n th√†nh'}
                </span>
              </p>
              <p style="margin: 0;"><strong>T·ªïng ti·ªÅn:</strong> <span style="color: #f5576c; font-size: 20px; font-weight: bold;">${formatCurrency(imp.total || 0)}</span></p>
            </div>
            <div>
              <h3 style="margin-bottom: 12px; color: #344767; font-size: 16px;">
                <i class="material-icons" style="vertical-align: middle; font-size: 18px;">list</i> Danh s√°ch s·∫£n ph·∫©m:
              </h3>
              ${itemsHtml}
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
    }

    function completeImport(index) {
      if (confirm('‚ö†Ô∏è Ho√†n th√†nh phi·∫øu nh·∫≠p n√†y? Sau khi ho√†n th√†nh s·∫Ω kh√¥ng th·ªÉ ch·ªânh s·ª≠a!')) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 500);
      }
    }

    // ==================== PRICING MANAGEMENT ====================
    
    function loadPricing(page = 1) {
      currentPage.pricing = page;
      const types = getData('types');
      const products = getData('product');
      const pricing = getData('pricing') || {};
      
      // Load b·∫£ng c·∫•u h√¨nh l·ª£i nhu·∫≠n theo danh m·ª•c
      const pricingTbody = document.getElementById('pricing-tbody');
      let pricingHtml = '';
      
      types.forEach(type => {
        if (type.id !== 'All') {
          const profitMargin = pricing[type.id] || 20;
          pricingHtml += `
            <tr>
              <td><strong>${type.name}</strong></td>
              <td style="text-align: center;">
                <input type="number" value="${profitMargin}" min="0" max="100" 
                       onchange="updateCategoryProfit('${type.id}', this.value)"
                       style="width: 80px; padding: 6px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
                <span style="margin-left: 4px;">%</span>
              </td>
              <td>
                <div class="actions">
                  <button class="btn btn-success" onclick="applyCategoryProfit('${type.id}')" title="√Åp d·ª•ng cho t·∫•t c·∫£ SP">
                    <i class="material-icons">done_all</i>
                  </button>
                </div>
              </td>
            </tr>
          `;
        }
      });
      pricingTbody.innerHTML = pricingHtml;
      
      // Pagination cho b·∫£ng chi ti·∫øt gi√° b√°n
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedProducts = products.slice(startIndex, endIndex);
      const totalPages = Math.ceil(products.length / itemsPerPage);
      
      // Load b·∫£ng chi ti·∫øt gi√° b√°n
      const detailTbody = document.getElementById('pricing-detail-tbody');
      let detailHtml = '';
      
      paginatedProducts.forEach(product => {
        const costPrice = product.costPrice || product.price * 0.7;
        const productProfit = pricing[`product_${product.id}`] || pricing[product.type] || 20;
        const sellPrice = costPrice * (1 + productProfit / 100);
        
        detailHtml += `
          <tr>
            <td><strong>${product.name}</strong></td>
            <td style="text-align: center;">${formatCurrency(costPrice)}</td>
            <td style="text-align: center;">
              <span style="padding: 6px 12px; background: #f0f0f0; border-radius: 4px; display: inline-block; min-width: 60px;">
                ${productProfit}%
              </span>
            </td>
            <td style="text-align: center;"><strong style="color: #14b8a6;">${formatCurrency(sellPrice)}</strong></td>
            <td>
              <div class="actions">
                <button class="btn btn-success" onclick="saveProductPrice('${product.id}')" title="L∆∞u gi√°">
                  <i class="material-icons">save</i>
                </button>
              </div>
            </td>
          </tr>
        `;
      });
      detailTbody.innerHTML = detailHtml;

      
      renderPagination('pricing', totalPages, page);
    }

    function updateCategoryProfit(typeId, value) {
      // Ch·ªâ hi·ªÉn th·ªã th√¥ng b√°o khi thay ƒë·ªïi
    }

    function updateProductProfit(productId, value) {
      // Ch·ªâ hi·ªÉn th·ªã th√¥ng b√°o khi thay ƒë·ªïi
    }

    function applyCategoryProfit(typeId) {
      if (confirm(`‚ö†Ô∏è √Åp d·ª•ng t·ªâ l·ªá l·ª£i nhu·∫≠n cho t·∫•t c·∫£ s·∫£n ph·∫©m trong danh m·ª•c n√†y?`)) {
        showLoading();
        setTimeout(() => {
          hideLoading();

        }, 300);
      }
    }

    function saveProductPrice(productId) {
      showLoading();
      setTimeout(() => {
        hideLoading();

      }, 300);
    }

    // ==================== INVENTORY MANAGEMENT ====================
    
    function loadInventory(page = 1) {
      currentPage.inventory = page;
      const products = getData('product');
      const imports = getData('imports') || [];
      const orders = getData('orders') || [];
      
      const tbody = document.getElementById('inventory-tbody');
      
      // Calculate inventory for all products first
      const inventoryData = [];
      let totalStock = 0;
      let lowStockCount = 0;
      
      products.forEach(product => {
        // T√≠nh t·ªïng nh·∫≠p
        let totalImported = 0;
        imports.forEach(imp => {
          if (imp.status === 'completed' && imp.items) {
            imp.items.forEach(item => {
              if (item.productId == product.id) {
                totalImported += item.quantity || 0;
              }
            });
          }
        });
        
        // T√≠nh ƒë√£ b√°n
        let totalSold = 0;
        orders.forEach(order => {
          if (order.status === 'giaohang' && order.items) {
            order.items.forEach(item => {
              if (item.id == product.id) {
                totalSold += item.quantity || 0;
              }
            });
          }
        });
        
        // T·ªìn kho
        const stock = totalImported - totalSold;
        totalStock += stock;
        
        const isLowStock = stock < 10;
        if (isLowStock) lowStockCount++;
        
        inventoryData.push({
          product,
          totalImported,
          totalSold,
          stock,
          isLowStock
        });
      });
      
      // Pagination
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedData = inventoryData.slice(startIndex, endIndex);
      const totalPages = Math.ceil(inventoryData.length / itemsPerPage);
      
      // Generate HTML for paginated data
      let html = '';
      paginatedData.forEach(data => {
        const { product, totalImported, totalSold, stock, isLowStock } = data;
        const statusClass = isLowStock ? 'badge-danger' : 'badge-success';
        const statusText = isLowStock ? 'S·∫Øp h·∫øt h√†ng' : 'C√≤n h√†ng';
        const statusIcon = isLowStock ? 'warning' : 'check_circle';
        
        html += `
          <tr>
            <td><strong>${product.name}</strong></td>
            <td style="text-align: center;">
              <span class="badge badge-info">${product.type}</span>
            </td>
            <td style="text-align: center;">${totalImported}</td>
            <td style="text-align: center;">${totalSold}</td>
            <td style="text-align: center;"><strong style="color: ${isLowStock ? '#f44336' : '#4caf50'};">${stock}</strong></td>
            <td style="text-align: center;">
              <span class="badge ${statusClass}">
                <i class="material-icons" style="font-size: 14px; vertical-align: middle;">${statusIcon}</i>
                ${statusText}
              </span>
            </td>
          </tr>
        `;
      });
      
      tbody.innerHTML = html;

      document.getElementById('total-stock').textContent = totalStock;
      document.getElementById('low-stock').textContent = lowStockCount;
      
      renderPagination('inventory', totalPages, page);
    }

    // Initialize Sample Data - D·ªØ li·ªáu c·ª©ng
    function initializeSampleData() {
      // T·∫°o d·ªØ li·ªáu user c·ª©ng n·∫øu ch∆∞a c√≥
      let users = getData('user');
      if (!users || users.length === 0) {
        const hardcodedUsers = [
          // T√†i kho·∫£n Admin
          {
            username: 'admin',
            password: '987',
            gmail: 'admin1704@gmail.com',
            RegisterDay: '1-1-2024',
            userType: 'admin',
            fullname: 'Qu·∫£n Tr·ªã Vi√™n',
            phone: '0901234567',
            address: '123 ƒê∆∞·ªùng L√™ L·ª£i, Qu·∫≠n 1, TP.HCM',
            status: 'active',
          },
          // 10 t√†i kho·∫£n kh√°ch h√†ng
          {
            username: 'nguyenvana',
            password: '123456',
            gmail: 'nguyenvana@gmail.com',
            RegisterDay: '15-2-2024',
            userType: 'user',
            fullname: 'Nguy·ªÖn VƒÉn A',
            phone: '0912345678',
            address: '45 Nguy·ªÖn Hu·ªá, Qu·∫≠n 1, TP.HCM',
            status: 'active',
          },
          {
            username: 'tranthib',
            password: '123456',
            gmail: 'tranthib@gmail.com',
            RegisterDay: '20-2-2024',
            userType: 'user',
            fullname: 'Tr·∫ßn Th·ªã B',
            phone: '0923456789',
            address: '78 L√™ VƒÉn S·ªπ, Qu·∫≠n 3, TP.HCM',
            status: 'active',
          },
          {
            username: 'phamvanc',
            password: '123456',
            gmail: 'phamvanc@gmail.com',
            RegisterDay: '5-3-2024',
            userType: 'user',
            fullname: 'Ph·∫°m VƒÉn C',
            phone: '0934567890',
            address: '12 V√µ VƒÉn T·∫ßn, Qu·∫≠n 3, TP.HCM',
            status: 'active',
          },
          {
            username: 'lethid',
            password: '123456',
            gmail: 'lethid@gmail.com',
            RegisterDay: '10-3-2024',
            userType: 'user',
            fullname: 'L√™ Th·ªã D',
            phone: '0945678901',
            address: '34 Phan ƒê√¨nh Ph√πng, Ph√∫ Nhu·∫≠n, TP.HCM',
            status: 'active',
          },
          {
            username: 'hoangvane',
            password: '123456',
            gmail: 'hoangvane@gmail.com',
            RegisterDay: '18-3-2024',
            userType: 'user',
            fullname: 'Ho√†ng VƒÉn E',
            phone: '0956789012',
            address: '56 Tr·∫ßn H∆∞ng ƒê·∫°o, Qu·∫≠n 5, TP.HCM',
            status: 'active',
          },
          {
            username: 'vuthif',
            password: '123456',
            gmail: 'vuthif@gmail.com',
            RegisterDay: '25-3-2024',
            userType: 'user',
            fullname: 'V≈© Th·ªã F',
            phone: '0967890123',
            address: '89 Hai B√† Tr∆∞ng, Qu·∫≠n 1, TP.HCM',
            status: 'active',
          },
          {
            username: 'dangvang',
            password: '123456',
            gmail: 'dangvang@gmail.com',
            RegisterDay: '1-4-2024',
            userType: 'user',
            fullname: 'ƒê·∫∑ng VƒÉn G',
            phone: '0978901234',
            address: '23 Nguy·ªÖn Th·ªã Minh Khai, Qu·∫≠n 3, TP.HCM',
            status: 'active',
          },
          {
            username: 'buithih',
            password: '123456',
            gmail: 'buithih@gmail.com',
            RegisterDay: '8-4-2024',
            userType: 'user',
            fullname: 'B√πi Th·ªã H',
            phone: '0989012345',
            address: '67 C√°ch M·∫°ng Th√°ng 8, Qu·∫≠n 10, TP.HCM',
            status: 'active',
          },
          {
            username: 'dovani',
            password: '123456',
            gmail: 'dovani@gmail.com',
            RegisterDay: '15-4-2024',
            userType: 'user',
            fullname: 'ƒê·ªó VƒÉn I',
            phone: '0990123456',
            address: '101 ƒêi·ªán Bi√™n Ph·ªß, B√¨nh Th·∫°nh, TP.HCM',
            status: 'active',
          },
          {
            username: 'ngothik',
            password: '123456',
            gmail: 'ngothik@gmail.com',
            RegisterDay: '22-4-2024',
            userType: 'user',
            fullname: 'Ng√¥ Th·ªã K',
            phone: '0901234561',
            address: '145 L√Ω Th∆∞·ªùng Ki·ªát, Qu·∫≠n 10, TP.HCM',
            status: 'active',
          }
        ];
        setData('user', hardcodedUsers);
      }
      
      // T·∫°o d·ªØ li·ªáu s·∫£n ph·∫©m c·ª©ng n·∫øu ch∆∞a c√≥ (l·∫•y t·ª´ index.html - LocalStorage.js)
      let products = getData('product');
      // Force update n·∫øu s·ªë l∆∞·ª£ng s·∫£n ph·∫©m kh√¥ng ƒë√∫ng (ph·∫£i l√† 26 s·∫£n ph·∫©m)
      if (!products || products.length !== 26) {
        const hardcodedProducts = [
          { id: 0, type: 'Other', name: 'OSU! keycap', img: '/img/Products/Other/020.jpg', price: 55000, description: "Keycap v·ªõi bi·ªÉu t∆∞·ª£ng OSU!", stock: 2 },
          { id: 1, type: 'Other', name: 'Apple logo keycap', img: '/img/Products/Other/021.jpg', price: 55000, description: "Keycap v·ªõi logo Apple n·ªïi b·∫≠t", stock: 10 },
          { id: 2, type: 'Other', name: 'CS:GO keycap', img: '/img/Products/Other/022.jpg', price: 110000, description: "Keycap ch·ªß ƒë·ªÅ game CS:GO", stock: 1 },
          { id: 3, type: 'Other', name: 'TypeWriter set keycap', img: '/img/Products/Other/023.jpg', price: 270000, description: "Set keycap phong c√°ch m√°y ƒë√°nh ch·ªØ c·ªï ƒëi·ªÉn", stock: 8 },
          { id: 4, type: 'Artisan', name: 'Sun Goddess Shrine keycap', img: '/img/Products/Artisan/001.jpg', price: 823529, description: "Keycap Artisan v·ªõi thi·∫øt k·∫ø N·ªØ th·∫ßn m·∫∑t tr·ªùi", stock: 5 },
          { id: 5, type: 'Artisan', name: 'Galaxy Keycap', img: '/img/Products/Artisan/002.jpg', price: 802118, description: "Keycap v·ªõi hi·ªáu ·ª©ng thi√™n h√† b√™n trong", stock: 2 },
          { id: 6, type: 'Artisan', name: 'Koi Fish Keycap', img: '/img/Products/Artisan/003.jpg', price: 543529, description: "Keycap h√¨nh c√° Koi v·ªõi m√†u s·∫Øc r·ª±c r·ª°", stock: 12 },
          { id: 7, type: 'Artisan', name: 'Interstellar Keycap', img: '/img/Products/Artisan/004.jpg', price: 929176, description: "Keycap v·ªõi thi·∫øt k·∫ø li√™n sao ƒë·ªôc ƒë√°o", stock: 3 },
          { id: 8, type: 'Artisan', name: 'Cute Cat Keycaps', img: '/img/Products/Artisan/005.jpg', price: 188000, description: "Keycap m√®o d·ªÖ th∆∞∆°ng phong c√°ch kawaii", stock: 0 },
          { id: 9, type: 'Artisan', name: 'Mega Charizard Keycap', img: '/img/Products/Artisan/006.jpg', price: 136447, description: "Keycap Pokemon Charizard", stock: 7 },
          { id: 10, type: 'Artisan', name: 'Devil Fruit Keycap', img: '/img/Products/Artisan/007.jpg', price: 938824, description: "Keycap tr√°i √°c qu·ª∑ t·ª´ One Piece", stock: 15 },
          { id: 11, type: 'Artisan', name: 'Re:Zero Rem Keycap', img: '/img/Products/Artisan/008.jpg', price: 677116, description: "Keycap nh√¢n v·∫≠t Rem t·ª´ anime Re:Zero", stock: 1 },
          { id: 12, type: 'Artisan', name: 'Totoro Natural Landscape & Waterfall Keycap', img: '/img/Products/Artisan/009.jpg', price: 124705, description: "Keycap Totoro v·ªõi phong c·∫£nh thi√™n nhi√™n", stock: 9 },
          { id: 13, type: 'Artisan', name: 'Keycap Doubleshot xuy√™n led Kim Lo·∫°i - Spiderman', img: '/img/Products/Artisan/010.jpg', price: 300000, description: "Keycap kim lo·∫°i Spiderman v·ªõi LED", stock: 6 },
          { id: 14, type: 'Pudding', name: 'Keycap PBT Pudding Black', img: '/img/Products/Pudding/011.jpg', price: 350000, description: "Set keycap Pudding m√†u ƒëen v·ªõi ch·∫•t li·ªáu PBT ch·∫Øc ch·∫Øn", stock: 11 },
          { id: 15, type: 'Pudding', name: 'Keycap PBT Pudding White', img: '/img/Products/Pudding/012.jpg', price: 350000, description: "Set keycap Pudding m√†u tr·∫Øng v·ªõi ch·∫•t li·ªáu PBT ch·∫Øc ch·∫Øn", stock: 3 },
          { id: 16, type: 'Pudding', name: 'Keycap PBT Pudding Pink', img: '/img/Products/Pudding/013.jpg', price: 350000, description: "Set keycap Pudding m√†u h·ªìng v·ªõi ch·∫•t li·ªáu PBT ch·∫Øc ch·∫Øn", stock: 4 },
          { id: 17, type: 'Pudding', name: 'Keycap PBT Pudding Blue', img: '/img/Products/Pudding/blue.jpg', price: 350000, description: "Set keycap Pudding m√†u xanh v·ªõi ch·∫•t li·ªáu PBT ch·∫Øc ch·∫Øn", stock: 2 },
          { id: 18, type: 'Pudding', name: 'Keycap PBT Pudding Purple', img: '/img/Products/Pudding/purple.jpg', price: 350000, description: "Set keycap Pudding m√†u t√≠m v·ªõi ch·∫•t li·ªáu PBT ch·∫Øc ch·∫Øn", stock: 10 },
          { id: 19, type: 'Pudding', name: 'Keycap PBT Pudding Red', img: '/img/Products/Pudding/red.jpg', price: 350000, description: "Set keycap Pudding m√†u ƒë·ªè v·ªõi ch·∫•t li·ªáu PBT ch·∫Øc ch·∫Øn", stock: 1 },
          { id: 20, type: 'Anime', name: 'Kimetsu no Yaiba set Keycap', img: '/img/Products/Anime/014.png', price: 745000, description: "Set keycap song ng·ªØ ch·ªß ƒë·ªÅ anime Kimetsu no Yaiba", stock: 9 },
          { id: 21, type: 'Anime', name: 'Re: Zero set Keycap', img: '/img/Products/Anime/015.png', price: 745000, description: "Set keycap song ng·ªØ ch·ªß ƒë·ªÅ anime Re: Zero", stock: 5 },
          { id: 22, type: 'Anime', name: 'Pokemon Bulbasaur set keycap', img: '/img/Products/Anime/016.png', price: 790000, description: "Set keycap song ng·ªØ ch·ªß ƒë·ªÅ pokemon Bulbasaur", stock: 4 },
          { id: 23, type: 'Anime', name: 'Pokemon Charmander set keycap', img: '/img/Products/Anime/017.png', price: 790000, description: "Set keycap song ng·ªØ ch·ªß ƒë·ªÅ pokemon Charmander", stock: 8 },
          { id: 24, type: 'Anime', name: 'Pokemon Squirtle set keycap', img: '/img/Products/Anime/018.png', price: 790000, description: "Set keycap song ng·ªØ ch·ªß ƒë·ªÅ pokemon Squirtle", stock: 3 },
          { id: 25, type: 'Anime', name: 'Hatsune Miku set keycap', img: '/img/Products/Anime/019.jpeg', price: 690000, description: "Set keycap song ng·ªØ ch·ªß ƒë·ªÅ nh√¢n v·∫≠t Hatsune Miku", stock: 0 }
        ];
        setData('product', hardcodedProducts);
        products = hardcodedProducts;
      }
      
      // T·∫°o danh m·ª•c s·∫£n ph·∫©m n·∫øu ch∆∞a c√≥ (ƒë·ªìng b·ªô v·ªõi LocalStorage.js)
      let types = getData('types');
      if (!types || types.length === 0) {
        const hardcodedTypes = [
          { id: "Anime", name: "Anime keycap" },
          { id: "Artisan", name: "Artisan keycap" },
          { id: "Pudding", name: "Pudding keycap" },
          { id: "Other", name: "Keycap kh√°c" },
          { id: "All", name: "Xem t·∫•t c·∫£...." }
        ];
        setData('types', hardcodedTypes);
      }
      
      // T·∫°o phi·∫øu nh·∫≠p c·ª©ng
      let imports = getData('imports') || [];
      if (imports.length === 0) {
        const hardcodedImports = [
          {
            id: 'PN0001',
            date: '2024-10-15',
            items: [
              { productId: products[0]?.id || '1', productName: products[0]?.name || 'S·∫£n ph·∫©m 1', quantity: 50, price: Math.floor((products[0]?.price || 100000) * 0.7), subtotal: 50 * Math.floor((products[0]?.price || 100000) * 0.7) },
              { productId: products[1]?.id || '2', productName: products[1]?.name || 'S·∫£n ph·∫©m 2', quantity: 30, price: Math.floor((products[1]?.price || 150000) * 0.7), subtotal: 30 * Math.floor((products[1]?.price || 150000) * 0.7) }
            ],
            total: 50 * Math.floor((products[0]?.price || 100000) * 0.7) + 30 * Math.floor((products[1]?.price || 150000) * 0.7),
            status: 'completed',
            createdAt: '2024-10-15T08:00:00',
            completedAt: '2024-10-15T09:00:00'
          },
          {
            id: 'PN0002',
            date: '2024-10-20',
            items: [
              { productId: products[2]?.id || '3', productName: products[2]?.name || 'S·∫£n ph·∫©m 3', quantity: 40, price: Math.floor((products[2]?.price || 200000) * 0.7), subtotal: 40 * Math.floor((products[2]?.price || 200000) * 0.7) },
              { productId: products[3]?.id || '4', productName: products[3]?.name || 'S·∫£n ph·∫©m 4', quantity: 25, price: Math.floor((products[3]?.price || 180000) * 0.7), subtotal: 25 * Math.floor((products[3]?.price || 180000) * 0.7) },
              { productId: products[4]?.id || '5', productName: products[4]?.name || 'S·∫£n ph·∫©m 5', quantity: 35, price: Math.floor((products[4]?.price || 120000) * 0.7), subtotal: 35 * Math.floor((products[4]?.price || 120000) * 0.7) }
            ],
            total: 40 * Math.floor((products[2]?.price || 200000) * 0.7) + 25 * Math.floor((products[3]?.price || 180000) * 0.7) + 35 * Math.floor((products[4]?.price || 120000) * 0.7),
            status: 'completed',
            createdAt: '2024-10-20T10:30:00',
            completedAt: '2024-10-20T11:00:00'
          },
          {
            id: 'PN0003',
            date: '2024-10-25',
            items: [
              { productId: products[5]?.id || '6', productName: products[5]?.name || 'S·∫£n ph·∫©m 6', quantity: 60, price: Math.floor((products[5]?.price || 90000) * 0.7), subtotal: 60 * Math.floor((products[5]?.price || 90000) * 0.7) },
              { productId: products[0]?.id || '1', productName: products[0]?.name || 'S·∫£n ph·∫©m 1', quantity: 20, price: Math.floor((products[0]?.price || 100000) * 0.7), subtotal: 20 * Math.floor((products[0]?.price || 100000) * 0.7) }
            ],
            total: 60 * Math.floor((products[5]?.price || 90000) * 0.7) + 20 * Math.floor((products[0]?.price || 100000) * 0.7),
            status: 'completed',
            createdAt: '2024-10-25T14:00:00',
            completedAt: '2024-10-25T15:00:00'
          },
          {
            id: 'PN0004',
            date: '2024-11-01',
            items: [
              { productId: products[1]?.id || '2', productName: products[1]?.name || 'S·∫£n ph·∫©m 2', quantity: 45, price: Math.floor((products[1]?.price || 150000) * 0.7), subtotal: 45 * Math.floor((products[1]?.price || 150000) * 0.7) },
              { productId: products[3]?.id || '4', productName: products[3]?.name || 'S·∫£n ph·∫©m 4', quantity: 30, price: Math.floor((products[3]?.price || 180000) * 0.7), subtotal: 30 * Math.floor((products[3]?.price || 180000) * 0.7) }
            ],
            total: 45 * Math.floor((products[1]?.price || 150000) * 0.7) + 30 * Math.floor((products[3]?.price || 180000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-01T09:00:00',
            completedAt: '2024-11-01T10:00:00'
          },
          {
            id: 'PN0005',
            date: '2024-11-05',
            items: [
              { productId: products[2]?.id || '3', productName: products[2]?.name || 'S·∫£n ph·∫©m 3', quantity: 55, price: Math.floor((products[2]?.price || 200000) * 0.7), subtotal: 55 * Math.floor((products[2]?.price || 200000) * 0.7) }
            ],
            total: 55 * Math.floor((products[2]?.price || 200000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-05T11:00:00',
            completedAt: '2024-11-05T12:00:00'
          },
          {
            id: 'PN0006',
            date: '2024-11-08',
            items: [
              { productId: products[4]?.id || '5', productName: products[4]?.name || 'S·∫£n ph·∫©m 5', quantity: 40, price: Math.floor((products[4]?.price || 120000) * 0.7), subtotal: 40 * Math.floor((products[4]?.price || 120000) * 0.7) },
              { productId: products[5]?.id || '6', productName: products[5]?.name || 'S·∫£n ph·∫©m 6', quantity: 35, price: Math.floor((products[5]?.price || 90000) * 0.7), subtotal: 35 * Math.floor((products[5]?.price || 90000) * 0.7) },
              { productId: products[0]?.id || '1', productName: products[0]?.name || 'S·∫£n ph·∫©m 1', quantity: 28, price: Math.floor((products[0]?.price || 100000) * 0.7), subtotal: 28 * Math.floor((products[0]?.price || 100000) * 0.7) }
            ],
            total: 40 * Math.floor((products[4]?.price || 120000) * 0.7) + 35 * Math.floor((products[5]?.price || 90000) * 0.7) + 28 * Math.floor((products[0]?.price || 100000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-08T13:30:00',
            completedAt: '2024-11-08T14:00:00'
          },
          {
            id: 'PN0007',
            date: '2024-11-10',
            items: [
              { productId: products[1]?.id || '2', productName: products[1]?.name || 'S·∫£n ph·∫©m 2', quantity: 50, price: Math.floor((products[1]?.price || 150000) * 0.7), subtotal: 50 * Math.floor((products[1]?.price || 150000) * 0.7) },
              { productId: products[2]?.id || '3', productName: products[2]?.name || 'S·∫£n ph·∫©m 3', quantity: 32, price: Math.floor((products[2]?.price || 200000) * 0.7), subtotal: 32 * Math.floor((products[2]?.price || 200000) * 0.7) }
            ],
            total: 50 * Math.floor((products[1]?.price || 150000) * 0.7) + 32 * Math.floor((products[2]?.price || 200000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-10T08:00:00',
            completedAt: '2024-11-10T09:30:00'
          },
          {
            id: 'PN0008',
            date: '2024-11-12',
            items: [
              { productId: products[3]?.id || '4', productName: products[3]?.name || 'S·∫£n ph·∫©m 4', quantity: 38, price: Math.floor((products[3]?.price || 180000) * 0.7), subtotal: 38 * Math.floor((products[3]?.price || 180000) * 0.7) }
            ],
            total: 38 * Math.floor((products[3]?.price || 180000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-12T10:00:00',
            completedAt: '2024-11-12T11:00:00'
          },
          {
            id: 'PN0009',
            date: '2024-11-13',
            items: [
              { productId: products[4]?.id || '5', productName: products[4]?.name || 'S·∫£n ph·∫©m 5', quantity: 48, price: Math.floor((products[4]?.price || 120000) * 0.7), subtotal: 48 * Math.floor((products[4]?.price || 120000) * 0.7) },
              { productId: products[5]?.id || '6', productName: products[5]?.name || 'S·∫£n ph·∫©m 6', quantity: 42, price: Math.floor((products[5]?.price || 90000) * 0.7), subtotal: 42 * Math.floor((products[5]?.price || 90000) * 0.7) }
            ],
            total: 48 * Math.floor((products[4]?.price || 120000) * 0.7) + 42 * Math.floor((products[5]?.price || 90000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-13T12:00:00',
            completedAt: '2024-11-13T13:00:00'
          },
          {
            id: 'PN0010',
            date: '2024-11-14',
            items: [
              { productId: products[0]?.id || '1', productName: products[0]?.name || 'S·∫£n ph·∫©m 1', quantity: 36, price: Math.floor((products[0]?.price || 100000) * 0.7), subtotal: 36 * Math.floor((products[0]?.price || 100000) * 0.7) },
              { productId: products[1]?.id || '2', productName: products[1]?.name || 'S·∫£n ph·∫©m 2', quantity: 26, price: Math.floor((products[1]?.price || 150000) * 0.7), subtotal: 26 * Math.floor((products[1]?.price || 150000) * 0.7) },
              { productId: products[3]?.id || '4', productName: products[3]?.name || 'S·∫£n ph·∫©m 4', quantity: 44, price: Math.floor((products[3]?.price || 180000) * 0.7), subtotal: 44 * Math.floor((products[3]?.price || 180000) * 0.7) }
            ],
            total: 36 * Math.floor((products[0]?.price || 100000) * 0.7) + 26 * Math.floor((products[1]?.price || 150000) * 0.7) + 44 * Math.floor((products[3]?.price || 180000) * 0.7),
            status: 'completed',
            createdAt: '2024-11-14T14:00:00',
            completedAt: '2024-11-14T15:00:00'
          },
          {
            id: 'PN0011',
            date: '2024-11-14',
            items: [
              { productId: products[2]?.id || '3', productName: products[2]?.name || 'S·∫£n ph·∫©m 3', quantity: 52, price: Math.floor((products[2]?.price || 200000) * 0.7), subtotal: 52 * Math.floor((products[2]?.price || 200000) * 0.7) },
              { productId: products[4]?.id || '5', productName: products[4]?.name || 'S·∫£n ph·∫©m 5', quantity: 29, price: Math.floor((products[4]?.price || 120000) * 0.7), subtotal: 29 * Math.floor((products[4]?.price || 120000) * 0.7) }
            ],
            total: 52 * Math.floor((products[2]?.price || 200000) * 0.7) + 29 * Math.floor((products[4]?.price || 120000) * 0.7),
            status: 'pending',
            createdAt: '2024-11-14T16:00:00',
            completedAt: null
          },
          {
            id: 'PN0012',
            date: '2024-11-14',
            items: [
              { productId: products[5]?.id || '6', productName: products[5]?.name || 'S·∫£n ph·∫©m 6', quantity: 47, price: Math.floor((products[5]?.price || 90000) * 0.7), subtotal: 47 * Math.floor((products[5]?.price || 90000) * 0.7) }
            ],
            total: 47 * Math.floor((products[5]?.price || 90000) * 0.7),
            status: 'pending',
            createdAt: '2024-11-14T17:00:00',
            completedAt: null
          },
          {
            id: 'PN0013',
            date: '2024-11-14',
            items: [
              { productId: products[0]?.id || '1', productName: products[0]?.name || 'S·∫£n ph·∫©m 1', quantity: 33, price: Math.floor((products[0]?.price || 100000) * 0.7), subtotal: 33 * Math.floor((products[0]?.price || 100000) * 0.7) },
              { productId: products[1]?.id || '2', productName: products[1]?.name || 'S·∫£n ph·∫©m 2', quantity: 41, price: Math.floor((products[1]?.price || 150000) * 0.7), subtotal: 41 * Math.floor((products[1]?.price || 150000) * 0.7) },
              { productId: products[2]?.id || '3', productName: products[2]?.name || 'S·∫£n ph·∫©m 3', quantity: 38, price: Math.floor((products[2]?.price || 200000) * 0.7), subtotal: 38 * Math.floor((products[2]?.price || 200000) * 0.7) }
            ],
            total: 33 * Math.floor((products[0]?.price || 100000) * 0.7) + 41 * Math.floor((products[1]?.price || 150000) * 0.7) + 38 * Math.floor((products[2]?.price || 200000) * 0.7),
            status: 'pending',
            createdAt: '2024-11-14T18:00:00',
            completedAt: null
          },
          {
            id: 'PN0014',
            date: '2024-11-14',
            items: [
              { productId: products[3]?.id || '4', productName: products[3]?.name || 'S·∫£n ph·∫©m 4', quantity: 54, price: Math.floor((products[3]?.price || 180000) * 0.7), subtotal: 54 * Math.floor((products[3]?.price || 180000) * 0.7) },
              { productId: products[5]?.id || '6', productName: products[5]?.name || 'S·∫£n ph·∫©m 6', quantity: 31, price: Math.floor((products[5]?.price || 90000) * 0.7), subtotal: 31 * Math.floor((products[5]?.price || 90000) * 0.7) }
            ],
            total: 54 * Math.floor((products[3]?.price || 180000) * 0.7) + 31 * Math.floor((products[5]?.price || 90000) * 0.7),
            status: 'pending',
            createdAt: '2024-11-14T19:00:00',
            completedAt: null
          },
          {
            id: 'PN0015',
            date: '2024-11-14',
            items: [
              { productId: products[4]?.id || '5', productName: products[4]?.name || 'S·∫£n ph·∫©m 5', quantity: 46, price: Math.floor((products[4]?.price || 120000) * 0.7), subtotal: 46 * Math.floor((products[4]?.price || 120000) * 0.7) }
            ],
            total: 46 * Math.floor((products[4]?.price || 120000) * 0.7),
            status: 'pending',
            createdAt: '2024-11-14T20:00:00',
            completedAt: null
          }
        ];
        
        setData('imports', hardcodedImports);
      }
      
      // T·∫°o ƒë∆°n h√†ng m·∫´u
      let orders = getData('orders') || [];
      if (orders.length === 0) {
        const hardcodedOrders = [
          { id: 'DH001', date: '10-11-2024', customer: 'Nguy·ªÖn VƒÉn A', total: 2500000, status: 'giaohang', items: [{ name: 'Keycap GMK Dracula', quantity: 1, price: 2500000 }] },
          { id: 'DH002', date: '11-11-2024', customer: 'Tr·∫ßn Th·ªã B', total: 1800000, status: 'xuly', items: [{ name: 'Keycap Demon Slayer', quantity: 1, price: 1800000 }] },
          { id: 'DH003', date: '11-11-2024', customer: 'Ph·∫°m VƒÉn C', total: 823529, status: 'moi', items: [{ name: 'Sun Goddess Shrine keycap', quantity: 1, price: 823529 }] },
          { id: 'DH004', date: '12-11-2024', customer: 'L√™ Th·ªã D', total: 1580000, status: 'giaohang', items: [{ name: 'Pokemon Charmander', quantity: 2, price: 790000 }] },
          { id: 'DH005', date: '12-11-2024', customer: 'Ho√†ng VƒÉn E', total: 1050000, status: 'xuly', items: [{ name: 'Keycap PBT Pudding Black', quantity: 3, price: 350000 }] },
          { id: 'DH006', date: '13-11-2024', customer: 'V≈© Th·ªã F', total: 690000, status: 'moi', items: [{ name: 'Hatsune Miku set keycap', quantity: 1, price: 690000 }] },
          { id: 'DH007', date: '13-11-2024', customer: 'ƒê·∫∑ng VƒÉn G', total: 1490000, status: 'giaohang', items: [{ name: 'Kimetsu no Yaiba', quantity: 2, price: 745000 }] },
          { id: 'DH008', date: '14-11-2024', customer: 'B√πi Th·ªã H', total: 802118, status: 'xuly', items: [{ name: 'Galaxy Keycap', quantity: 1, price: 802118 }] },
          { id: 'DH009', date: '14-11-2024', customer: 'ƒê·ªó VƒÉn I', total: 938824, status: 'moi', items: [{ name: 'Devil Fruit Keycap', quantity: 1, price: 938824 }] },
          { id: 'DH010', date: '14-11-2024', customer: 'Ng√¥ Th·ªã K', total: 1700000, status: 'huy', items: [{ name: 'Keycap PBT Pudding Pink', quantity: 2, price: 350000 }] }
        ];
        setData('orders', hardcodedOrders);
      }
    }

    // Initialize with Welcome Message
    window.onload = function() {
      // Kh·ªüi t·∫°o d·ªØ li·ªáu m·∫´u n·∫øu ch∆∞a c√≥
      initializeSampleData();
      
      // Load trang Dashboard
      loadDashboard();
      
      // Hi·ªÉn th·ªã th√¥ng b√°o ch√†o m·ª´ng

      
      // Auto-hide sidebar on mobile
      const sidebar = document.getElementById('sidebar');
      if (window.innerWidth <= 768 && sidebar) {
        sidebar.classList.remove('active');
      }
      
      // Debug: Log s·ªë l∆∞·ª£ng s·∫£n ph·∫©m
      console.log('Products loaded:', getData('product')?.length || 0);
      console.log('Users loaded:', getData('user')?.length || 0);
    };

    // Handle Window Resize
    window.addEventListener('resize', function() {
      const sidebar = document.getElementById('sidebar');
      if (window.innerWidth > 768 && sidebar) {
        sidebar.classList.add('active');
      }
    });

    // Handle ESC key to close modal
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        const productModal = document.getElementById('product-modal');
        const importModal = document.getElementById('import-modal');
        
        if (productModal && productModal.style.display === 'flex') {
          closeProductModal();
        }
        if (importModal && importModal.style.display === 'flex') {
          closeImportModal();
        }
      }
    });
  </script>
</body>
</html>
